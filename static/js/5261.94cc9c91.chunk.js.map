{"version":3,"file":"static/js/5261.94cc9c91.chunk.js","mappings":"6IAIO,MAAMA,EAASC,GACXC,EAAAA,EAAKC,IAAY,mBAAoBF,E,iICChD,MAAM,UAAEG,GAAcC,EAAAA,QAgGtB,EA9FsBC,KACpB,MAAOC,IAAgBC,EAAAA,EAAAA,OAChBC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,IAC5BC,EAAOC,IAAYF,EAAAA,EAAAA,UAAS,IAC5BG,EAAYC,GAAiBC,EAAAA,GAAQC,aA0B5C,OALAC,EAAAA,EAAAA,YAAU,KAnBgBC,WACxB,MAAMC,EAAQb,EAAaJ,IAAI,SAC/B,IAAKiB,EAKH,YAJAN,EAAWO,KAAK,CACdC,KAAM,QACNC,QAAS,mCAIb,MAAMC,QAAcxB,EAAAA,EAAAA,GAAM,CAAEoB,UACxBI,EAAMC,MACRf,EAASc,EAAMC,MAEjB,MAAMC,QAAc1B,EAAAA,EAAAA,GAAM,CAAEoB,UACxBM,EAAMD,MACRZ,EAASa,EAAMD,KACjB,EAIAE,EAAmB,GAElB,KAEKC,EAAAA,EAAAA,MAAA,OAAAC,SAAA,CACLd,GACDa,EAAAA,EAAAA,MAACE,EAAAA,EAAG,CAACC,OAAQ,GAAGF,SAAA,EACdG,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,UAAU,aAAaC,KAAM,EAAEN,UAClCG,EAAAA,EAAAA,KAAC3B,EAAAA,QAAa,CACZ+B,UAAW,CACTC,MAAO,yBACPC,MAAO7B,EACP8B,aACEP,EAAAA,EAAAA,KAAC5B,EAAS,CAACiC,MAAM,qBAAMC,MAAM,QAAQE,MAAM,QAG/CC,OACET,EAAAA,EAAAA,KAAA,OACEU,IAAI,sEACJC,IAAI,qBACJC,MAAM,cAMdZ,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,UAAU,aAAaC,KAAM,EAAEN,UAClCG,EAAAA,EAAAA,KAAC3B,EAAAA,QAAa,CACZ+B,UAAW,CACTC,MAAO,yBACPC,MAAO1B,EACP2B,aACEP,EAAAA,EAAAA,KAAC5B,EAAS,CAACiC,MAAM,qBAAMC,MAAM,QAAQE,MAAM,QAG/CC,OACET,EAAAA,EAAAA,KAAA,OACEU,IAAI,sEACJC,IAAI,qBACJC,MAAM,cAMdZ,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,UAAU,aAAaC,KAAM,EAAEN,UAClCG,EAAAA,EAAAA,KAAC3B,EAAAA,QAAa,CACZ+B,UAAW,CACTC,MAAO,WACPC,MAAO,UACPC,aACEP,EAAAA,EAAAA,KAAC5B,EAAS,CAACiC,MAAM,qBAAMC,MAAM,QAAQE,MAAM,QAG/CC,OACET,EAAAA,EAAAA,KAAA,OACEU,IAAI,sEACJC,IAAI,qBACJC,MAAM,kBAOZ,C","sources":["api/modules/web/dashboard.ts","views/miniapp/dashboard/index.tsx"],"sourcesContent":["import { ReqQuery } from \"@/api/interface/web/dashboard\";\nimport http from \"../../index\"\n\n// 获取PV\nexport const getPV = (params: ReqQuery) => {\n    return http.get<number>('web/dashboard/pv', params);\n};\n\n// 获取UV\nexport const getUV = (params: ReqQuery) => {\n    return http.get<number>('web/dashboard/uv', params);\n};","import { getPV } from '@/api/modules/web/dashboard';\nimport { StatisticCard } from '@ant-design/pro-components';\nimport { Col, Row, message } from 'antd';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nconst { Statistic } = StatisticCard;\n\nconst DashboardView = () => {\n  const [searchParams] = useSearchParams();\n  const [pvNum, setPvNum] = useState(0);\n  const [uvNum, setUvNum] = useState(0);\n  const [messageApi, contextHolder] = message.useMessage();\n\n  const initDashboardInfo = async () => {\n    const appId = searchParams.get('appId');\n    if (!appId) {\n      messageApi.open({\n        type: 'error',\n        content: 'appId不能为空!',\n      });\n      return;\n    }\n    const pvRes = await getPV({ appId });\n    if (pvRes.data) {\n      setPvNum(pvRes.data);\n    }\n    const uvRes = await getPV({ appId });\n    if (uvRes.data) {\n      setUvNum(uvRes.data);\n    }\n  };\n\n  useEffect(() => {\n    initDashboardInfo();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (<div>\n    {contextHolder}\n    <Row gutter={16}>\n      <Col className=\"gutter-row\" span={6}>\n        <StatisticCard\n          statistic={{\n            title: '浏览量(PV)',\n            value: pvNum,\n            description: (\n              <Statistic title=\"日同比\" value=\"6.15%\" trend=\"up\" />\n            ),\n          }}\n          chart={\n            <img\n              src=\"https://gw.alipayobjects.com/zos/alicdn/zevpN7Nv_/xiaozhexiantu.svg\"\n              alt=\"折线图\"\n              width=\"100%\"\n            />\n          }\n        >\n        </StatisticCard>\n      </Col>\n      <Col className=\"gutter-row\" span={6}>\n        <StatisticCard\n          statistic={{\n            title: '访客数(UV)',\n            value: uvNum,\n            description: (\n              <Statistic title=\"日同比\" value=\"6.15%\" trend=\"up\" />\n            ),\n          }}\n          chart={\n            <img\n              src=\"https://gw.alipayobjects.com/zos/alicdn/zevpN7Nv_/xiaozhexiantu.svg\"\n              alt=\"折线图\"\n              width=\"100%\"\n            />\n          }\n        >\n        </StatisticCard>\n      </Col>\n      <Col className=\"gutter-row\" span={6}>\n        <StatisticCard\n          statistic={{\n            title: 'IP数',\n            value: 601987768,\n            description: (\n              <Statistic title=\"日同比\" value=\"6.15%\" trend=\"up\" />\n            ),\n          }}\n          chart={\n            <img\n              src=\"https://gw.alipayobjects.com/zos/alicdn/zevpN7Nv_/xiaozhexiantu.svg\"\n              alt=\"折线图\"\n              width=\"100%\"\n            />\n          }\n        >\n        </StatisticCard>\n      </Col>\n    </Row>\n  </div>);\n}\n\nexport default DashboardView;"],"names":["getPV","params","http","get","Statistic","StatisticCard","DashboardView","searchParams","useSearchParams","pvNum","setPvNum","useState","uvNum","setUvNum","messageApi","contextHolder","message","useMessage","useEffect","async","appId","open","type","content","pvRes","data","uvRes","initDashboardInfo","_jsxs","children","Row","gutter","_jsx","Col","className","span","statistic","title","value","description","trend","chart","src","alt","width"],"sourceRoot":""}
{"version":3,"file":"static/js/353.e5fce193.chunk.js","mappings":"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","sources":["views/app/components/createAppModal.tsx","api/modules/app.ts","views/app/index.tsx"],"sourcesContent":["import { useState, useImperativeHandle, Ref } from \"react\";\nimport { Form, Input, Modal, Radio, Upload, message } from \"antd\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport { createApp } from \"@/api/modules/app\";\n\ninterface Props {\n\tinnerRef: Ref<{ showModal: () => void }>;\n}\n\nconst CreateAppModal = (props: Props) => {\n\tconst [isModalVisible, setIsModalVisible] = useState(false);\n\tconst [form] = Form.useForm();\n\n\tuseImperativeHandle(props.innerRef, () => ({\n\t\tshowModal\n\t}));\n\n\tconst showModal = () => {\n\t\tsetIsModalVisible(true);\n\t};\n\n\tconst handleOk = async () => {\n\t\tconst fieldsValue = await form.validateFields();\n\t\ttry {\n\t\t\tawait createApp({\n\t\t\t\tname: fieldsValue.name,\n\t\t\t\ttype: fieldsValue.type\n\t\t\t});\n\t\t\tsetIsModalVisible(false);\n\t\t\t//清空form\n\t\t\tform.resetFields();\n\t\t\tmessage.success(\"创建成功\");\n\t\t} catch (error) {\n\n\t\t}\n\t};\n\n\tconst handleCancel = () => {\n\t\t//清空form\n\t\tform.resetFields();\n\t\tsetIsModalVisible(false);\n\t};\n\n\tconst normFile = (e: any) => {\n\t\tif (Array.isArray(e)) {\n\t\t\treturn e;\n\t\t}\n\t\treturn e?.fileList;\n\t};\n\treturn (\n\t\t<Modal title=\"新建应用\" open={isModalVisible} onOk={handleOk} onCancel={handleCancel} destroyOnClose={true} cancelText=\"取消\" okText=\"确定\">\n\t\t\t<Form\n\t\t\t\tlabelCol={{ span: 4 }}\n\t\t\t\twrapperCol={{ span: 14 }}\n\t\t\t\tlayout=\"horizontal\"\n\t\t\t\tform={form}\n\t\t\t\tinitialValues={{ type: 1 }}\n\t\t\t>\n\t\t\t\t<Form.Item label=\"应用类型\" name=\"type\">\n\t\t\t\t\t<Radio.Group>\n\t\t\t\t\t\t<Radio value={1}>H5/PC/Web项目</Radio>\n\t\t\t\t\t\t<Radio value={2}>小程序</Radio>\n\t\t\t\t\t</Radio.Group>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"应用名称\" name=\"name\" rules={[{ required: true }]}>\n\t\t\t\t\t<Input />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"上传图标\" valuePropName=\"fileList\" getValueFromEvent={normFile}>\n\t\t\t\t\t<Upload action=\"/upload.do\" listType=\"picture-card\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<PlusOutlined />\n\t\t\t\t\t\t\t<div style={{ marginTop: 8 }}>Upload</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Upload>\n\t\t\t\t</Form.Item>\n\n\t\t\t</Form>\n\t\t</Modal>\n\t);\n};\nexport default CreateAppModal;","import http from \"../index\"\nimport { App } from \"../interface/app\";\n\n// 创建应用接口\nexport const createApp = (params: App.CreateAppForm) => {\n    return http.post<App.ResApp>('app', params);\n};\n\n// 获取应用接口\nexport const getApp = () => {\n    return http.get<Array<App.ResApp>>('app');\n};","import Layout, { Content, Footer } from \"antd/es/layout/layout\";\nimport { Button, Col, Row, Typography } from 'antd';\nimport { useEffect, useRef, useState } from \"react\";\nimport \"./app.less\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport CreateAppModal from \"./components/createAppModal\";\nimport { getApp } from \"@/api/modules/app\";\n\nconst { Title } = Typography;\n\ninterface ModalProps {\n    showModal: () => void;\n}\n\nconst View: React.FC = () => {\n    const createAppRef = useRef<ModalProps>(null);\n    const [appList, setAppList] = useState([]);\n\n    const initApp = async () => {\n        const result = await getApp();\n        if (result.data && Array.isArray(result.data)) {\n            setAppList(result.data as []);\n        }\n    };\n\n    useEffect(() => {\n        initApp();\n    }, [])\n\n    return <Layout>\n        <Content style={{ margin: '24px 32px' }}>\n            <Title level={4}>应用接入</Title>\n            <div className=\"app-header\">\n                <Button type=\"primary\" icon={<PlusOutlined />} size=\"middle\" onClick={() => createAppRef.current!.showModal()}>\n                    创建应用\n                </Button>\n            </div>\n            <div className=\"app-list\">\n                <Row gutter={[16, 16]}>\n                    {\n                        appList.map((app, index) => {\n                            return (<Col key={index.toString()} span={24 / 8}>\n                                <div>Column</div>\n                            </Col>)\n                        })\n                    }\n                </Row>\n            </div>\n        </Content>\n        <Footer style={{ textAlign: 'center' }}>React + Ant Design</Footer>\n        <CreateAppModal innerRef={createAppRef}></CreateAppModal>\n    </Layout>;\n}\n\nexport default View;"],"names":["props","_useState","useState","_useState2","_slicedToArray","isModalVisible","setIsModalVisible","_Form$useForm","Form","useForm","form","useImperativeHandle","innerRef","showModal","handleOk","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fieldsValue","wrap","_context","prev","next","validateFields","sent","params","name","type","http","post","resetFields","message","success","t0","stop","apply","arguments","_jsx","Modal","title","open","onOk","onCancel","destroyOnClose","cancelText","okText","children","_jsxs","labelCol","span","wrapperCol","layout","initialValues","Item","label","Radio","value","rules","required","Input","valuePropName","getValueFromEvent","e","Array","isArray","fileList","Upload","action","listType","PlusOutlined","style","marginTop","Title","Typography","createAppRef","useRef","appList","setAppList","initApp","result","get","data","useEffect","Layout","Content","margin","level","className","Button","icon","size","onClick","current","Row","gutter","map","app","index","Col","toString","Footer","textAlign","CreateAppModal"],"sourceRoot":""}
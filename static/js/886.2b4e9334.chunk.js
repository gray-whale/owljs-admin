"use strict";(self.webpackChunkmonitor_admin=self.webpackChunkmonitor_admin||[]).push([[886],{3552:function(e,n,t){t.d(n,{BN:function(){return c},L5:function(){return s},P2:function(){return a},yk:function(){return i}});var r=t(2584),s=function(e){return r.Z.post("app",e)},i=function(e){return r.Z.get("app",e)},a=function(e){return r.Z.delete("app/".concat(e))},c=function(e){return r.Z.get("app/".concat(e))}},4886:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r=t(4165),s=t(5861),i=t(9439),a=t(9503),c=t(6921),o=t(7027),u=t(7309),l=t(6106),p=t(914),d=t(3218),f=t(2242),x=t(2279),h=t(4099),Z=t(4664),m=t(4123),j=t(2791),v=t(1752),y=t(2622),g=t(9286),w=t(2414),C=t(3414),b=t(3552);var k=t.p+"static/media/H5.99da6d33f21e67d91cbbeabfecad6365.svg";var P=t.p+"static/media/mp.f80329825a8bc57599fa4d9805213d04.svg",S=t(7689),I=t(6998),T=t.n(I),z=t(7846),E=t(7828),L=t(1046),N=t(4424),A=t(9389),D=t(732),F=t(3329),H=function(e){var n=z.Z.useForm(),t=(0,i.Z)(n,1)[0],a=function(){var n=(0,s.Z)((0,r.Z)().mark((function n(s){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,b.L5)({name:s.name,type:s.type});case 3:t.resetFields(),o.ZP.success("\u521b\u5efa\u6210\u529f"),e.onSuccess(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}();return(0,F.jsx)(E.Z,{title:"\u65b0\u5efa\u5e94\u7528",placement:"right",width:500,closable:!1,open:e.open,extra:(0,F.jsx)(L.Z,{children:(0,F.jsx)(D.Z,{onClick:e.onClose})}),children:(0,F.jsxs)(z.Z,{labelCol:{span:6},wrapperCol:{span:18},layout:"horizontal",form:t,onFinish:a,initialValues:{type:1},children:[(0,F.jsx)(z.Z.Item,{label:"\u5e94\u7528\u7c7b\u578b",name:"type",children:(0,F.jsxs)(N.ZP.Group,{children:[(0,F.jsx)(N.ZP,{value:1,children:"H5/PC/Web\u9879\u76ee"}),(0,F.jsx)(N.ZP,{value:2,children:"\u5c0f\u7a0b\u5e8f"})]})}),(0,F.jsx)(z.Z.Item,{label:"\u5e94\u7528\u540d\u79f0",name:"name",rules:[{required:!0}],children:(0,F.jsx)(A.Z,{})}),(0,F.jsx)(z.Z.Item,{wrapperCol:{offset:6,span:18},children:(0,F.jsx)(u.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u5b9a"})})]})})},_=c.Z.Title,q=c.Z.Text,B=function(){var e=(0,S.s0)(),n=(0,j.useState)(1),t=(0,i.Z)(n,2),c=t[0],I=t[1],z=(0,j.useState)(10),E=(0,i.Z)(z,2),L=E[0],N=E[1],A=(0,j.useState)(0),D=(0,i.Z)(A,2),B=D[0],G=D[1],O=(0,j.useState)([]),R=(0,i.Z)(O,2),V=R[0],W=R[1],J=(0,j.useState)(!1),K=(0,i.Z)(J,2),M=K[0],Q=K[1],U=(0,j.useState)(!1),X=(0,i.Z)(U,2),Y=X[0],$=X[1],ee=(0,j.useState)(""),ne=(0,i.Z)(ee,2),te=ne[0],re=ne[1],se=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.yk)({pageNum:c,pageSize:L});case 2:(n=e.sent).data&&(G(n.data.total),W(n.data.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){se()}),[]),(0,j.useEffect)((function(){se()}),[c,L]);var ie=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!1),e.next=3,(0,b.P2)(te);case 3:200===e.sent.code&&(o.ZP.success("\u5220\u9664\u6210\u529f"),se());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,F.jsxs)(a.ZP,{children:[(0,F.jsxs)("div",{style:{margin:"0 32px",padding:"16px",height:"100%"},children:[(0,F.jsx)(_,{level:4,children:"\u5e94\u7528\u63a5\u5165"}),(0,F.jsx)("div",{className:"app-header",children:(0,F.jsx)(u.ZP,{type:"primary",icon:(0,F.jsx)(g.Z,{}),size:"middle",onClick:function(e){return Q(!0)},children:"\u521b\u5efa\u5e94\u7528"})}),V.length>0?(0,F.jsxs)("div",{className:"app-list",children:[(0,F.jsx)(l.Z,{gutter:[16,16],children:V.map((function(n,t){return(0,F.jsx)(p.Z,{span:8,children:(0,F.jsxs)(d.Z,{hoverable:!0,onClick:function(t){return function(n){var t="/home/miniapp";"1"===n.type&&(t="/home/web"),e("".concat(t,"?appId=").concat(n.appId))}(n)},children:[(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,F.jsx)(f.Z,{width:20,height:20,src:"1"===n.type?k:P}),(0,F.jsx)(_,{style:{marginLeft:"8px"},level:5,children:n.name})]}),(0,F.jsx)(x.Z,{menu:{items:(i=n.appId,[{key:"1",label:"\u7f16\u8f91",icon:(0,F.jsx)(v.Z,{}),onClick:function(e){e.domEvent.stopPropagation()}},{key:"2",label:"\u5220\u9664",icon:(0,F.jsx)(y.Z,{}),onClick:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.domEvent.stopPropagation(),re(i),$(!0);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}])},placement:"bottomRight",arrow:{pointAtCenter:!0},children:(0,F.jsx)(w.Z,{})})]}),(0,F.jsx)("div",{style:{marginTop:"16px"},children:(0,F.jsxs)(q,{children:["AppID\uff1a ",(0,F.jsx)(q,{type:"secondary",children:n.aid}),(0,F.jsx)(C.Z,{style:{marginLeft:"8px"},onClick:function(e){return function(e,n){e.stopPropagation(),T()(n),o.ZP.success("\u5df2\u590d\u5236")}(e,n.aid)}})]})}),(0,F.jsx)("div",{style:{marginTop:"8px",display:"flex",justifyContent:"space-between"},children:(0,F.jsxs)("span",{children:["\u521b\u5efa\u65f6\u95f4:",n.createdAt]})})]})},t.toString());var i}))}),(0,F.jsx)(h.Z,{style:{marginTop:"20px"},showSizeChanger:!0,onChange:function(e,n){I(e),N(n)},defaultCurrent:c,total:B})]}):(0,F.jsx)(Z.Z,{description:"\u6682\u65e0\u5e94\u7528"})]}),(0,F.jsx)(H,{onSuccess:function(){Q(!1),se()},open:M,onClose:function(){return Q(!1)}}),(0,F.jsx)(m.Z,{title:"\u63d0\u793a!",open:Y,onOk:ie,onCancel:function(){$(!1)},children:"\u786e\u8ba4\u5220\u9664\uff1f"})]})}}}]);
//# sourceMappingURL=886.2b4e9334.chunk.js.map
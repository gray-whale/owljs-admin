{"version":3,"file":"static/js/3896.6969b99f.chunk.js","mappings":"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","sources":["../node_modules/antd/es/upload/index.js","views/system/user/addUser/index.tsx","api/modules/system/user.ts","views/system/user/index.tsx"],"sourcesContent":["\"use client\";\n\nimport Dragger from './Dragger';\nimport InternalUpload, { LIST_IGNORE } from './Upload';\nconst Upload = InternalUpload;\nUpload.Dragger = Dragger;\nUpload.LIST_IGNORE = LIST_IGNORE;\nexport default Upload;","import { Button, Drawer, Form, Input, Modal, Radio, Space, Upload, UploadFile, UploadProps, message } from \"antd\";\nimport { CloseOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport { useState } from \"react\";\nimport { RcFile } from \"antd/es/upload\";\nimport { addUser } from \"@/api/modules/system/user\";\n\ninterface Props {\n\topen: boolean;\n\tonSuccess: () => void;\n\tonClose: () => void\n}\n\nconst getBase64 = (file: RcFile): Promise<string> =>\n\tnew Promise((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\t\treader.readAsDataURL(file);\n\t\treader.onload = () => resolve(reader.result as string);\n\t\treader.onerror = (error) => reject(error);\n\t});\n\nconst AddUserPage = (props: Props) => {\n\tconst [form] = Form.useForm();\n\tconst [avatar, setAvatar] = useState('');\n\tconst [previewOpen, setPreviewOpen] = useState(false);\n\tconst [previewImage, setPreviewImage] = useState('');\n\tconst [previewTitle, setPreviewTitle] = useState('');\n\n\tconst onFinish = async (values: any) => {\n\n\t\ttry {\n\t\t\tawait addUser({\n\t\t\t\tloginName: values.loginName,\n\t\t\t\tuserName: values.userName,\n\t\t\t\tpassword: values.password,\n\t\t\t\tphonenumber: values.phonenumber,\n\t\t\t\temail: values.email,\n\t\t\t\tsex: values.sex,\n\t\t\t\tavatar: avatar,\n\t\t\t\tstatus: values.status,\n\t\t\t\tremark: values.remark\n\t\t\t});\n\t\t\t//清空form\n\t\t\tform.resetFields();\n\t\t\tmessage.success(\"创建成功\");\n\t\t\tprops.onSuccess();\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\tconst normFile = (e: any) => {\n\t\tif (Array.isArray(e)) {\n\t\t\treturn e;\n\t\t}\n\t\treturn e?.fileList;\n\t};\n\n\tconst onUploadChange: UploadProps['onChange'] = ({ file, fileList, event }: any) => {\n\t\tif (file.status === 'done') {\n\t\t\tif (file.response && file.response.code === 200) {\n\t\t\t\tsetAvatar(file.response.data.fileId);\n\t\t\t}\n\t\t}\n\t}\n\n\tconst onRemove = () => {\n\t\tsetAvatar('');\n\t}\n\n\tconst handlePreview = async (file: UploadFile) => {\n\t\tif (!file.url && !file.preview) {\n\t\t\tfile.preview = await getBase64(file.originFileObj as RcFile);\n\t\t}\n\n\t\tsetPreviewImage(file.url || (file.preview as string));\n\t\tsetPreviewOpen(true);\n\t\tsetPreviewTitle(file.name || file.url!.substring(file.url!.lastIndexOf('/') + 1));\n\t};\n\n\tconst handleCancel = () => setPreviewOpen(false);\n\n\treturn (\n\t\t<Drawer\n\t\t\ttitle=\"添加用户\"\n\t\t\tplacement='right'\n\t\t\twidth={500}\n\t\t\tclosable={false}\n\t\t\topen={props.open}\n\t\t\textra={\n\t\t\t\t<Space>\n\t\t\t\t\t<CloseOutlined onClick={props.onClose} />\n\t\t\t\t</Space>\n\t\t\t}\n\t\t>\n\t\t\t<Form\n\t\t\t\tlabelCol={{ span: 6 }}\n\t\t\t\twrapperCol={{ span: 18 }}\n\t\t\t\tlayout=\"horizontal\"\n\t\t\t\tform={form}\n\t\t\t\tonFinish={onFinish}\n\t\t\t\tinitialValues={{ sex: '0', status: '0' }}\n\t\t\t>\n\t\t\t\t<Form.Item label=\"登录名\" name=\"loginName\" rules={[{ required: true }]}>\n\t\t\t\t\t<Input placeholder=\"请输入登录名\" />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"用户名\" name=\"userName\" rules={[{ required: true }]}>\n\t\t\t\t\t<Input placeholder=\"请输入用户名\" />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"密码\" name=\"password\" rules={[{ required: true }]}>\n\t\t\t\t\t<Input.Password placeholder=\"请输入密码\" />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"确认密码\" name=\"repassword\" rules={[{ required: true }]}>\n\t\t\t\t\t<Input.Password placeholder=\"请再次输入密码\" />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"性别\" name=\"sex\" rules={[{ required: true }]}>\n\t\t\t\t\t<Radio.Group>\n\t\t\t\t\t\t<Radio value='0'>男</Radio>\n\t\t\t\t\t\t<Radio value='1'>女</Radio>\n\t\t\t\t\t</Radio.Group>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"邮箱\" name=\"email\">\n\t\t\t\t\t<Input placeholder=\"请输入邮箱\" />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"手机号\" name=\"phonenumber\">\n\t\t\t\t\t<Input placeholder=\"请输入手机号\" />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"状态\" name=\"status\" rules={[{ required: true }]}>\n\t\t\t\t\t<Radio.Group>\n\t\t\t\t\t\t<Radio value='0'>正常</Radio>\n\t\t\t\t\t\t<Radio value='1'>停用</Radio>\n\t\t\t\t\t</Radio.Group>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"头像\" valuePropName=\"fileList\" getValueFromEvent={normFile}>\n\t\t\t\t\t<Upload onPreview={handlePreview} action=\"http://localhost:3000/file/upload\" listType=\"picture-card\" onChange={onUploadChange} maxCount={1} onRemove={onRemove}>\n\t\t\t\t\t\t<PlusOutlined />\n\t\t\t\t\t</Upload>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item\n\t\t\t\t\tname=\"remark\"\n\t\t\t\t\tlabel=\"备注\"\n\t\t\t\t>\n\t\t\t\t\t<Input.TextArea rows={4} showCount maxLength={100} />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item wrapperCol={{ offset: 6, span: 18 }}>\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\n\t\t\t\t\t\t确定\n\t\t\t\t\t</Button>\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\t\t\t<Modal open={previewOpen} title={previewTitle} footer={null} onCancel={handleCancel}>\n\t\t\t\t<img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\n\t\t\t</Modal>\n\t\t</Drawer>\n\t);\n};\nexport default AddUserPage;","import http from \"../../index\"\nimport { ReqPage, ResPage } from \"../../interface\";\nimport { User } from \"../../interface/system/user\";\n\n// 新增用户\nexport const addUser = (params: User.CreateUserForm) => {\n    return http.post<User.ResUser>('users', params);\n};\n\n// 获取用户列表\nexport const getUserList = (params: ReqPage) => {\n    return http.get<ResPage<User.ResUser>>('users', params);\n};\n\n// 删除用户\nexport const deleteUser = (id: string) => {\n    return http.delete<ResPage<User.ResUser>>(`users/${id}`);\n};","import { deleteUser, getUserList } from \"@/api/modules/system/user\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport { Avatar, Button, Card, Modal, Space, Table, message } from \"antd\";\nimport { ColumnsType } from \"antd/es/table\";\nimport { useEffect, useState } from \"react\";\nimport CreateUserPage from \"./addUser\";\n\ninterface DataType {\n    key: React.Key;\n    userId: string;\n    loginName: string;\n    userName: string;\n    sex: string;\n    email: string;\n    phonenumber: string;\n    status: string;\n    avatar: any;\n    createdAt: string;\n}\n\nconst UserList: React.FC = () => {\n\n    const [pageNum, setPageNum] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [userTotal, setUserTotal] = useState(0);\n    const [userList, setUserList] = useState<DataType[]>([]);\n    const [showCreatePage, setShowCreatePage] = useState(false);\n    const [showConfirm, setShowConfirm] = useState(false);\n    const [actionId, setActionId] = useState('');\n\n    const initUserList = async () => {\n        const result = await getUserList({ pageNum, pageSize });\n        if (result.data) {\n            setUserTotal(result.data.total);\n            setUserList(result.data.data as []);\n        }\n    };\n\n    useEffect(() => {\n        initUserList();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    useEffect(() => {\n        initUserList();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [pageNum, pageSize])\n\n    const columns: ColumnsType<DataType> = [\n        {\n            title: '登录名',\n            dataIndex: 'loginName',\n            width: 100,\n        },\n        {\n            title: '用户名',\n            dataIndex: 'userName',\n            width: 100,\n        },\n        {\n            title: '性别',\n            dataIndex: 'sex',\n            width: 100,\n            render: (_, record) => (\n                <Space size=\"middle\">\n                    {record.sex === '0' ? '男' : '女'}\n                </Space>\n            ),\n        },\n        {\n            title: '邮箱',\n            dataIndex: 'email',\n            width: 100,\n        },\n        {\n            title: '手机号',\n            dataIndex: 'phonenumber',\n            width: 100,\n        },\n        {\n            title: '状态',\n            dataIndex: 'status',\n            width: 100,\n            render: (_, record) => (\n                <Space size=\"middle\">\n                    {record.status === '0' ? '正常' : '停用'}\n                </Space>\n            ),\n        },\n        {\n            title: '头像',\n            dataIndex: 'avatar',\n            width: 100,\n            render: (_, record) => (\n                <Space size=\"middle\">\n                    {record.avatar ? <Avatar src={record.avatar.url} /> : ''}\n                </Space>\n            ),\n        },\n        {\n            title: '创建时间',\n            dataIndex: 'createdAt',\n            width: 100,\n        },\n        {\n            title: '操作',\n            width: 100,\n            render: (_, record) => (\n                <Space size=\"middle\">\n                    <Button type=\"link\">修改</Button><Button type=\"link\" danger onClick={e => { setActionId(record.userId); setShowConfirm(true) }}>删除</Button>\n                </Space>\n            ),\n        },\n    ];\n\n    const confirmDelete = async () => {\n        setShowConfirm(false);\n        const result = await deleteUser(actionId);\n        if(result.code === 200){\n            message.success('删除成功');\n            initUserList();\n        }\n    }\n\n    const cancelDelete = () => {\n        setShowConfirm(false);\n    }\n\n    const pagination = {\n        showSizeChanger: true,\n        onChange: (page: number, pageSize: number) => {\n            setPageNum(page);\n            setPageSize(pageSize);\n        },\n        defaultCurrent: pageNum,\n        total: userTotal\n    }\n    return (<div>\n        <Card>\n            <Button type=\"primary\" icon={<PlusOutlined />} onClick={e => setShowCreatePage(true)}>新增用户</Button>\n        </Card>\n        <Card title=\"用户列表\" style={{ marginTop: '20px' }}>\n            <Table rowKey={(record) => record.userId} pagination={pagination} columns={columns} dataSource={userList} />\n        </Card>\n        <Modal title=\"提示!\" open={showConfirm} onOk={confirmDelete} onCancel={cancelDelete}>\n            确认删除？\n        </Modal>\n        <CreateUserPage onSuccess={() => { setShowCreatePage(false); initUserList(); }} open={showCreatePage} onClose={() => setShowCreatePage(false)}></CreateUserPage>\n    </div>);\n}\n\nexport default UserList;"],"names":["Upload","InternalUpload","Dragger","LIST_IGNORE","props","form","Form","useForm","avatar","setAvatar","useState","previewOpen","setPreviewOpen","previewImage","setPreviewImage","previewTitle","setPreviewTitle","_jsxs","Drawer","title","placement","width","closable","open","extra","_jsx","Space","children","CloseOutlined","onClick","onClose","labelCol","span","wrapperCol","layout","onFinish","async","params","loginName","values","userName","password","phonenumber","email","sex","status","remark","http","post","resetFields","message","success","onSuccess","error","console","log","initialValues","Item","label","name","rules","required","Input","placeholder","Password","Radio","value","valuePropName","getValueFromEvent","e","Array","isArray","fileList","onPreview","file","url","preview","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","getBase64","originFileObj","substring","lastIndexOf","action","listType","onChange","_ref","event","response","code","data","fileId","maxCount","onRemove","PlusOutlined","TextArea","rows","showCount","maxLength","offset","Button","type","htmlType","Modal","footer","onCancel","handleCancel","alt","style","src","UserList","pageNum","setPageNum","pageSize","setPageSize","userTotal","setUserTotal","userList","setUserList","showCreatePage","setShowCreatePage","showConfirm","setShowConfirm","actionId","setActionId","initUserList","get","total","useEffect","columns","dataIndex","render","_","record","size","Avatar","danger","userId","pagination","showSizeChanger","page","defaultCurrent","Card","icon","marginTop","Table","rowKey","dataSource","onOk","id","delete","concat","cancelDelete","CreateUserPage"],"sourceRoot":""}
"use strict";(self.webpackChunkmonitor_admin=self.webpackChunkmonitor_admin||[]).push([[289],{850:function(e,n,t){t.d(n,{$6:function(){return a},DF:function(){return o},kD:function(){return c}});var r=t(2584),a=function(e){return r.Z.get("web/sourcemap",e)},c=function(e){return r.Z.post("web/sourcemap",e)},o=function(e){return r.Z.get("web/sourcemap/".concat(e))}},1172:function(e,n,t){t.d(n,{L:function(){return a},U:function(){return r}});var r=function(e,n){var t=[];try{for(var r=function n(r){if(t.push(r),(null===r||void 0===r?void 0:r.key)===e)throw new Error("GOT IT!");if(null!==r&&void 0!==r&&r.children&&(null===r||void 0===r?void 0:r.children.length)>0){for(var a=0;a<(null===r||void 0===r?void 0:r.children.length);a++)n(r.children[a]);t.pop()}else t.pop()},a=0;a<n.length;a++)r(n[a]);return[]}catch(c){return t.map((function(e){return e.label}))}};function a(e,n){var t=(new TextEncoder).encode(n).buffer,r=new Blob([t],{type:"text/plain;charset=utf-8"}),a=new FileReader;a.readAsDataURL(r),a.onload=function(n){var t=document.createElement("a");t.href=n.target.result,t.download=e,document.body.appendChild(t),t.click(),document.body.removeChild(t)}}},9289:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r=t(4165),a=t(5861),c=t(9439),o=t(2351),i=t(1046),l=t(7309),u=t(3218),s=t(3920),d=t(2791),f=t(1413),p=t(3433),h=t(850),m=t(732),v=t(6776),Z=t(7846),x=t(7027),g=t(7828),w=t(9389),j=t(9555),y=t(4941),b=t(1087),S=t(3329),k=function(e){var n=Z.Z.useForm(),t=(0,c.Z)(n,1)[0],o=(0,d.useState)([]),u=(0,c.Z)(o,2),s=u[0],k=u[1],C=(0,d.useState)(""),I=(0,c.Z)(C,2),L=I[0],z=I[1],V=(0,b.lr)(),E=(0,c.Z)(V,1)[0],F=x.ZP.useMessage(),A=(0,c.Z)(F,2),P=A[0],R=A[1],T=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){var c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=E.get("appId")){n.next=4;break}return P.open({type:"error",content:"appId\u4e0d\u80fd\u4e3a\u7a7a!"}),n.abrupt("return");case 4:return n.prev=4,n.next=7,(0,h.kD)({filename:a.name,sourcemap:L,site_type:"web",appId:c,release:a.release});case 7:t.resetFields(),x.ZP.success("\u521b\u5efa\u6210\u529f"),e.onSuccess(),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(e){return n.apply(this,arguments)}}(),H={accept:".js.map",multiple:!1,maxCount:1,onRemove:function(e){var n=s.indexOf(e),t=s.slice();t.splice(n,1),k(t)},beforeUpload:function(e){var n=new FileReader;return n.readAsBinaryString(e),n.onload=function(){z(this.result)},k([].concat((0,p.Z)(s),[e])),!1},fileList:s};return(0,S.jsxs)(g.Z,{title:"\u4e0a\u4f20SourceMap",placement:"right",width:500,closable:!1,open:e.open,extra:(0,S.jsx)(i.Z,{children:(0,S.jsx)(m.Z,{onClick:e.onClose})}),children:[R,(0,S.jsxs)(Z.Z,{layout:"vertical",form:t,onFinish:T,initialValues:{type:1},children:[(0,S.jsx)(Z.Z.Item,{label:"js sourcemap\u6587\u4ef6\u540d",name:"name",rules:[{required:!0}],children:(0,S.jsx)(w.Z,{})}),(0,S.jsx)(Z.Z.Item,{label:"\u4e0a\u4f20 Sourcemap \u6587\u4ef6",name:"dragger",rules:[{required:!0}],children:(0,S.jsx)(Z.Z.Item,{name:"dragger",valuePropName:"fileList",getValueFromEvent:function(e){return Array.isArray(e)?e:null===e||void 0===e?void 0:e.fileList},noStyle:!0,children:(0,S.jsxs)(y.Z,(0,f.Z)((0,f.Z)({},H),{},{children:[(0,S.jsx)("p",{className:"ant-upload-drag-icon",children:(0,S.jsx)(v.Z,{})}),(0,S.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u62d6\u62fd\u6587\u4ef6\u5230\u6b64\u5904\u4e0a\u4f20"}),(0,S.jsx)("p",{className:"ant-upload-hint",children:"\u53ea\u652f\u6301.js.map\u6587\u4ef6"})]}))})}),(0,S.jsx)(Z.Z.Item,{label:"Release",name:"release",rules:[{required:!0}],children:(0,S.jsx)(j.Z,{showSearch:!0,allowClear:!0,placeholder:"\u9009\u62e9\u6216\u8f93\u5165\u5bf9\u5e94\u7248\u672c",optionFilterProp:"children",onChange:function(e){console.log("selected ".concat(e))},onSearch:function(e){console.log("search:",e)},filterOption:function(e,n){var t;return(null!==(t=null===n||void 0===n?void 0:n.label)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},options:[{value:"jack",label:"Jack"},{value:"lucy",label:"Lucy"},{value:"tom",label:"Tom"}]})}),(0,S.jsx)(Z.Z.Item,{children:(0,S.jsx)(l.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u5b9a"})})]})]})},C=t(1172),I=function(){var e=(0,d.useState)(1),n=(0,c.Z)(e,2),t=n[0],f=n[1],p=(0,d.useState)(10),m=(0,c.Z)(p,2),v=m[0],Z=m[1],x=(0,d.useState)(0),g=(0,c.Z)(x,2),w=g[0],j=g[1],y=(0,d.useState)([]),b=(0,c.Z)(y,2),I=b[0],L=b[1],z=(0,d.useState)(!1),V=(0,c.Z)(z,2),E=V[0],F=V[1],A=[{title:"\u6587\u4ef6\u540d",dataIndex:"filename",width:50},{title:"release",dataIndex:"release",width:100},{title:"\u6587\u4ef6\u5927\u5c0f",dataIndex:"filesize",width:50},{title:"\u4e0a\u4f20\u65f6\u95f4",dataIndex:"createdAt",width:100},{title:"\u64cd\u4f5c",width:100,render:function(e,n){return(0,S.jsx)(i.Z,{size:"middle",children:(0,S.jsx)(l.ZP,{type:"link",onClick:function(e){return P(e,n.key.toString())},children:"\u4e0b\u8f7d Sourcemap"})})}}],P=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.DF)(t);case 2:(a=e.sent).data&&(0,C.L)("".concat(a.data.filename,".js.map"),a.data.sourcemap);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),R=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.$6)({pageNum:t,pageSize:v});case 2:(n=e.sent).data&&(j(n.data.total),a=[],n.data.data.forEach((function(e){a.push({key:e.smId,release:e.release,createdAt:e.createdAt,filename:e.filename,filesize:e.filesize})})),L(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){R()}),[]),(0,d.useEffect)((function(){R()}),[t,v]);var T={showSizeChanger:!0,onChange:function(e,n){f(e),Z(n)},defaultCurrent:t,total:w};return(0,S.jsxs)("div",{children:[(0,S.jsxs)(u.Z,{title:"sourcemap\u5217\u8868",style:{marginTop:"20px"},children:[(0,S.jsx)(l.ZP,{type:"primary",icon:(0,S.jsx)(o.Z,{}),onClick:function(e){return F(!0)},children:"\u4e0a\u4f20Sourcemap"}),(0,S.jsx)(s.Z,{style:{marginTop:"12px"},pagination:T,columns:A,dataSource:I})]}),(0,S.jsx)(k,{onSuccess:function(){F(!1),R()},open:E,onClose:function(){return F(!1)}})]})}},6776:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(7462),a=t(2791),c={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},o=t(4291),i=function(e,n){return a.createElement(o.Z,(0,r.Z)({},e,{ref:n,icon:c}))};var l=a.forwardRef(i)},2351:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(7462),a=t(2791),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},o=t(4291),i=function(e,n){return a.createElement(o.Z,(0,r.Z)({},e,{ref:n,icon:c}))};var l=a.forwardRef(i)}}]);
//# sourceMappingURL=289.3d3ba717.chunk.js.map
"use strict";(self.webpackChunkmonitor_admin=self.webpackChunkmonitor_admin||[]).push([[2603],{6293:(e,t,a)=>{a.d(t,{M:()=>s});var n=a(4689);const s=e=>n.Z.get("log",e)},2603:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var n=a(6293),s=a(5722),o=a(6473),i=a(2954),d=a(2791),c=a(1087),r=a(3329);const l=()=>{const[e,t]=(0,d.useState)(1),[a,l]=(0,d.useState)(10),[u,p]=(0,d.useState)(0),[g,h]=(0,d.useState)([]),[f,m]=(0,d.useState)([]),[w]=(0,c.lr)(),[S,I]=s.ZP.useMessage(),x={selectedRowKeys:f,onChange:e=>{m(e)}},v=async()=>{const t=w.get("appId");if(!t)return void S.open({type:"error",content:"appId\u4e0d\u80fd\u4e3a\u7a7a!"});const s=await(0,n.M)({pageNum:e,pageSize:a,appId:t});if(s.data){p(s.data.total);const e=[];s.data.data.forEach((t=>{e.push({key:t.logId,level:t.level,content:t.content,metrics:t.metrics,categories:t.categories})})),h(e)}};(0,d.useEffect)((()=>{v()}),[]),(0,d.useEffect)((()=>{v()}),[e,a]);const C={showSizeChanger:!0,onChange:(e,a)=>{t(e),l(a)},defaultCurrent:e,total:u};return(0,r.jsxs)(o.Z,{title:"\u65e5\u5fd7\u5217\u8868",children:[I,(0,r.jsx)(i.Z,{style:{marginTop:"12px"},rowSelection:x,pagination:C,columns:[{title:"\u65e5\u5fd7\u7ea7\u522b",dataIndex:"level",width:100},{title:"\u65e5\u5fd7\u5185\u5bb9",dataIndex:"content",width:200},{title:"\u81ea\u5b9a\u4e49\u6570\u503c",dataIndex:"metrics",width:200},{title:"\u4e8b\u4ef6\u672c\u8eab\u7684\u7ef4\u5ea6",dataIndex:"categories",width:200}],dataSource:g})]})}}}]);
//# sourceMappingURL=2603.0a1e9f1a.chunk.js.map
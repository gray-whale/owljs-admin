"use strict";(self.webpackChunkmonitor_admin=self.webpackChunkmonitor_admin||[]).push([[2603],{6293:function(t,e,n){n.d(e,{M:function(){return r}});var a=n(2584),r=function(t){return a.Z.get("log",t)}},2603:function(t,e,n){n.r(e);var a=n(4165),r=n(5861),i=n(9439),o=n(6293),u=n(7027),c=n(3218),s=n(3920),d=n(2791),l=n(1087),f=n(3329);e.default=function(){var t=(0,d.useState)(1),e=(0,i.Z)(t,2),n=e[0],p=e[1],h=(0,d.useState)(10),g=(0,i.Z)(h,2),Z=g[0],m=g[1],w=(0,d.useState)(0),v=(0,i.Z)(w,2),x=v[0],S=v[1],I=(0,d.useState)([]),k=(0,i.Z)(I,2),C=k[0],y=k[1],b=(0,d.useState)([]),E=(0,i.Z)(b,2),M=E[0],j=E[1],z=(0,l.lr)(),_=(0,i.Z)(z,1)[0],K=u.ZP.useMessage(),N=(0,i.Z)(K,2),P=N[0],R=N[1],T={selectedRowKeys:M,onChange:function(t){j(t)}},q=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(){var e,r,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=_.get("appId")){t.next=4;break}return P.open({type:"error",content:"appId\u4e0d\u80fd\u4e3a\u7a7a!"}),t.abrupt("return");case 4:return t.next=6,(0,o.M)({pageNum:n,pageSize:Z,appId:e});case 6:(r=t.sent).data&&(S(r.data.total),i=[],r.data.data.forEach((function(t){i.push({key:t.logId,level:t.level,content:t.content,metrics:t.metrics,categories:t.categories})})),y(i));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,d.useEffect)((function(){q()}),[]),(0,d.useEffect)((function(){q()}),[n,Z]);var A={showSizeChanger:!0,onChange:function(t,e){p(t),m(e)},defaultCurrent:n,total:x};return(0,f.jsxs)(c.Z,{title:"\u65e5\u5fd7\u5217\u8868",children:[R,(0,f.jsx)(s.Z,{style:{marginTop:"12px"},rowSelection:T,pagination:A,columns:[{title:"\u65e5\u5fd7\u7ea7\u522b",dataIndex:"level",width:100},{title:"\u65e5\u5fd7\u5185\u5bb9",dataIndex:"content",width:200},{title:"\u81ea\u5b9a\u4e49\u6570\u503c",dataIndex:"metrics",width:200},{title:"\u4e8b\u4ef6\u672c\u8eab\u7684\u7ef4\u5ea6",dataIndex:"categories",width:200}],dataSource:C})]})}}}]);
//# sourceMappingURL=2603.5b0ae811.chunk.js.map
"use strict";(self.webpackChunkmonitor_admin=self.webpackChunkmonitor_admin||[]).push([[770],{1583:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(9286),r=n(4217),i=n(2339),o=n(3218),l=n(3403),s=n(7309),d=n(7892),c=n.n(d),u=n(3329),p=r.Z.RangePicker,h=function(e){e.data;var t=[{label:"\u6700\u8fd130\u5206\u949f",value:[c()().add(-30,"minute"),c()()]},{label:"\u6700\u8fd11\u5c0f\u65f6",value:[c()().add(-1,"h"),c()()]},{label:"\u6700\u8fd13\u5c0f\u65f6",value:[c()().add(-7,"h"),c()()]},{label:"\u6700\u8fd11\u5929",value:[c()().add(-1,"d"),c()()]},{label:"\u6700\u8fd13\u5929",value:[c()().add(-3,"d"),c()()]},{label:"\u6700\u8fd17\u5929",value:[c()().add(-7,"d"),c()()]},{label:"\u6700\u8fd11\u4e2a\u6708",value:[c()().add(-1,"M"),c()()]}],n=(0,u.jsx)("div",{style:{maxWidth:"400px"},children:["pid","\u6d4f\u89c8\u5668","\u6d4f\u89c8\u5668\u7248\u672c","\u7cfb\u7edf","\u7cfb\u7edf\u7248\u672c","\u56fd\u5bb6/\u5730\u533a","\u7701\u4efd","\u57ce\u5e02","IP","\u54c1\u724c","\u673a\u578b","\u9875\u9762url","session_id","view_id","env","release","use_agent","\u8bf7\u6c42\u53c2\u6570","\u7f51\u7edc\u7c7b\u578b","use_id","device_id"].map((function(e){return(0,u.jsx)(i.Z,{color:"blue",className:"filter-header-tag",children:e},e)}))});return(0,u.jsxs)(o.Z,{children:[(0,u.jsx)(p,{showTime:!0,presets:t,onChange:function(e,t){e?(console.log("From: ",e[0],", to: ",e[1]),console.log("From: ",t[0],", to: ",t[1])):console.log("Clear")},defaultValue:[c()().add(-1,"d"),c()()]}),(0,u.jsx)(l.Z,{placement:"bottomLeft",trigger:"click",content:n,arrow:!1,children:(0,u.jsx)(s.ZP,{icon:(0,u.jsx)(a.Z,{}),style:{marginLeft:"8px"},children:"\u7b5b\u9009\u6761\u4ef6"})})]})}},9770:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var a=n(9439),r=n(1583),i=n(3218),o=n(7828),l=n(1046),s=n(2791),d=n(4165),c=n(5861),u=n(2584),p=n(7027),h=n(3920),f=n(1087),x=n(3329),m=function(e){var t=(0,s.useState)(1),n=(0,a.Z)(t,2),r=n[0],i=n[1],o=(0,s.useState)(10),l=(0,a.Z)(o,2),m=l[0],v=l[1],Z=(0,s.useState)(0),g=(0,a.Z)(Z,2),j=g[0],b=g[1],k=(0,s.useState)([]),w=(0,a.Z)(k,2),C=w[0],S=w[1],y=(0,s.useState)([]),I=(0,a.Z)(y,2),_=I[0],P=I[1],E=(0,f.lr)(),L=(0,a.Z)(E,1)[0],T=p.ZP.useMessage(),W=(0,a.Z)(T,2),z=W[0],B=W[1],F=[{title:"\u9519\u8bef\u5185\u5bb9",dataIndex:"content",width:200,render:function(t){return(0,x.jsx)("div",{children:(0,x.jsx)("span",{onClick:e.onClick,style:{wordBreak:"break-all",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:"3",WebkitBoxOrient:"vertical"},children:t})})}},{title:"\u8d77\u6b62\u65f6\u95f4",dataIndex:"time",width:200},{title:"\u9519\u8bef\u6570",dataIndex:"errorCount",width:50},{title:"\u5f71\u54cd\u7528\u6237\u6570",dataIndex:"userCount",width:50}],M={selectedRowKeys:_,onChange:function(e){P(e)}},N=function(){var e=(0,c.Z)((0,d.Z)().mark((function e(){var t,n,a;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=L.get("appId")){e.next=4;break}return z.open({type:"error",content:"appId\u4e0d\u80fd\u4e3a\u7a7a!"}),e.abrupt("return");case 4:return e.next=6,i={pageNum:r,pageSize:m,appId:t},u.Z.get("miniapp/jserror",i);case 6:(n=e.sent).data&&(b(n.data.total),a=[],n.data.data.forEach((function(e){a.push({key:e.errorId,content:e.stack,time:"2020/12/09",errorCount:5,userCount:6})})),S(a));case 8:case"end":return e.stop()}var i}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){N()}),[]),(0,s.useEffect)((function(){N()}),[r,m]);var O={showSizeChanger:!0,onChange:function(e,t){i(e),v(t)},defaultCurrent:r,total:j};return(0,x.jsxs)("div",{children:[B,(0,x.jsx)(h.Z,{style:{marginTop:"12px"},rowSelection:M,pagination:O,columns:F,dataSource:C})]})},v=n(732),Z=function(){var e=(0,s.useState)(!1),t=(0,a.Z)(e,2),n=t[0],d=t[1],c=function(){d(!1)};return(0,x.jsxs)("div",{children:[(0,x.jsx)(r.Z,{}),(0,x.jsx)(i.Z,{title:"\u9519\u8bef\u5217\u8868",style:{marginTop:"16px"},children:(0,x.jsx)(m,{onClick:function(){d(!0)}})}),(0,x.jsxs)(o.Z,{title:"\u9519\u8bef\u8be6\u60c5",placement:"right",closable:!1,width:"80%",onClose:c,open:n,extra:(0,x.jsx)(l.Z,{children:(0,x.jsx)(v.Z,{onClick:c})}),children:[(0,x.jsx)("p",{children:"Some contents..."}),(0,x.jsx)("p",{children:"Some contents..."}),(0,x.jsx)("p",{children:"Some contents..."})]})]})}}}]);
//# sourceMappingURL=770.e84d7525.chunk.js.map
"use strict";(self.webpackChunkmonitor_admin=self.webpackChunkmonitor_admin||[]).push([[4886],{3552:(e,s,t)=>{t.d(s,{BN:()=>c,L5:()=>n,P2:()=>l,yk:()=>i});var a=t(4689);const n=e=>a.Z.post("app",e),i=e=>a.Z.get("app",e),l=e=>a.Z.delete("app/".concat(e)),c=e=>a.Z.get("app/".concat(e))},4886:(e,s,t)=>{t.r(s),t.d(s,{default:()=>H});var a=t(8127),n=t(4900),i=t(5722),l=t(2641),c=t(6106),r=t(914),o=t(6473),p=t(8531),d=t(2279),x=t(6834),h=t(4664),m=t(2107),j=t(2791),u=t(1752),y=t(2622),Z=t(9286),g=t(2414),f=t(3414),C=t(3552);const v=t.p+"static/media/H5.99da6d33f21e67d91cbbeabfecad6365.svg";const b=t.p+"static/media/mp.f80329825a8bc57599fa4d9805213d04.svg";var w=t(7689),k=t(6998),P=t.n(k),S=t(3070),I=t(7828),T=t(1773),z=t(4424),E=t(9389),L=t(732),N=t(3329);const A=e=>{const[s]=S.Z.useForm();return(0,N.jsx)(I.Z,{title:"\u65b0\u5efa\u5e94\u7528",placement:"right",width:500,closable:!1,open:e.open,extra:(0,N.jsx)(T.Z,{children:(0,N.jsx)(L.Z,{onClick:e.onClose})}),children:(0,N.jsxs)(S.Z,{labelCol:{span:6},wrapperCol:{span:18},layout:"horizontal",form:s,onFinish:async t=>{try{await(0,C.L5)({name:t.name,type:t.type}),s.resetFields(),i.ZP.success("\u521b\u5efa\u6210\u529f"),e.onSuccess()}catch(a){console.log(a)}},initialValues:{type:1},children:[(0,N.jsx)(S.Z.Item,{label:"\u5e94\u7528\u7c7b\u578b",name:"type",children:(0,N.jsxs)(z.ZP.Group,{children:[(0,N.jsx)(z.ZP,{value:1,children:"H5/PC/Web\u9879\u76ee"}),(0,N.jsx)(z.ZP,{value:2,children:"\u5c0f\u7a0b\u5e8f"})]})}),(0,N.jsx)(S.Z.Item,{label:"\u5e94\u7528\u540d\u79f0",name:"name",rules:[{required:!0}],children:(0,N.jsx)(E.Z,{})}),(0,N.jsx)(S.Z.Item,{wrapperCol:{offset:6,span:18},children:(0,N.jsx)(l.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u5b9a"})})]})})},{Title:D,Text:F}=n.default,H=()=>{const e=(0,w.s0)(),[s,t]=(0,j.useState)(1),[n,k]=(0,j.useState)(10),[S,I]=(0,j.useState)(0),[T,z]=(0,j.useState)([]),[E,L]=(0,j.useState)(!1),[H,_]=(0,j.useState)(!1),[q,B]=(0,j.useState)(""),G=async()=>{const e=await(0,C.yk)({pageNum:s,pageSize:n});e.data&&(I(e.data.total),z(e.data.data))};(0,j.useEffect)((()=>{G()}),[]),(0,j.useEffect)((()=>{G()}),[s,n]);return(0,N.jsxs)(a.ZP,{children:[(0,N.jsxs)("div",{style:{margin:"0 32px",padding:"16px",height:"100%"},children:[(0,N.jsx)(D,{level:4,children:"\u5e94\u7528\u63a5\u5165"}),(0,N.jsx)("div",{className:"app-header",children:(0,N.jsx)(l.ZP,{type:"primary",icon:(0,N.jsx)(Z.Z,{}),size:"middle",onClick:e=>L(!0),children:"\u521b\u5efa\u5e94\u7528"})}),T.length>0?(0,N.jsxs)("div",{className:"app-list",children:[(0,N.jsx)(c.Z,{gutter:[16,16],children:T.map(((s,t)=>{return(0,N.jsx)(r.Z,{span:8,children:(0,N.jsxs)(o.Z,{hoverable:!0,onClick:t=>(s=>{let t="/home/miniapp";"1"===s.type&&(t="/home/web"),e("".concat(t,"?appId=").concat(s.appId))})(s),children:[(0,N.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,N.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,N.jsx)(p.Z,{width:20,height:20,src:"1"===s.type?v:b}),(0,N.jsx)(D,{style:{marginLeft:"8px"},level:5,children:s.name})]}),(0,N.jsx)(d.Z,{menu:{items:(a=s.appId,[{key:"1",label:"\u7f16\u8f91",icon:(0,N.jsx)(u.Z,{}),onClick:e=>{let{domEvent:s}=e;s.stopPropagation()}},{key:"2",label:"\u5220\u9664",icon:(0,N.jsx)(y.Z,{}),onClick:async e=>{let{domEvent:s}=e;s.stopPropagation(),B(a),_(!0)}}])},placement:"bottomRight",arrow:{pointAtCenter:!0},children:(0,N.jsx)(g.Z,{})})]}),(0,N.jsx)("div",{style:{marginTop:"16px"},children:(0,N.jsxs)(F,{children:["AppID\uff1a ",(0,N.jsx)(F,{type:"secondary",children:s.aid}),(0,N.jsx)(f.Z,{style:{marginLeft:"8px"},onClick:e=>((e,s)=>{e.stopPropagation(),P()(s),i.ZP.success("\u5df2\u590d\u5236")})(e,s.aid)})]})}),(0,N.jsx)("div",{style:{marginTop:"8px",display:"flex",justifyContent:"space-between"},children:(0,N.jsxs)("span",{children:["\u521b\u5efa\u65f6\u95f4:",s.createdAt]})})]})},t.toString());var a}))}),(0,N.jsx)(x.Z,{style:{marginTop:"20px"},showSizeChanger:!0,onChange:(e,s)=>{t(e),k(s)},defaultCurrent:s,total:S})]}):(0,N.jsx)(h.Z,{description:"\u6682\u65e0\u5e94\u7528"})]}),(0,N.jsx)(A,{onSuccess:()=>{L(!1),G()},open:E,onClose:()=>L(!1)}),(0,N.jsx)(m.Z,{title:"\u63d0\u793a!",open:H,onOk:async()=>{_(!1);200===(await(0,C.P2)(q)).code&&(i.ZP.success("\u5220\u9664\u6210\u529f"),G())},onCancel:()=>{_(!1)},children:"\u786e\u8ba4\u5220\u9664\uff1f"})]})}}}]);
//# sourceMappingURL=4886.3060c1d3.chunk.js.map
"use strict";(self.webpackChunkmonitor_admin=self.webpackChunkmonitor_admin||[]).push([[433],{4433:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var r=t(4165),s=t(5861),i=t(9439),a=t(9503),l=t(6921),c=t(7027),o=t(7309),d=t(6106),u=t(914),p=t(3218),x=t(2242),h=t(2279),f=t(4664),m=t(2791),Z=t(9286),j=t(2414),v=t(3414),y=t(7846),g=t(4123),b=t(4424),w=t(9389),k=t(6517),C=t(2584),P=t(3329),A=function(e){var n=(0,m.useState)(!1),t=(0,i.Z)(n,2),a=t[0],l=t[1],o=y.Z.useForm(),d=(0,i.Z)(o,1)[0];(0,m.useImperativeHandle)(e.innerRef,(function(){return{showModal:u}}));var u=function(){l(!0)},p=function(){var n=(0,s.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.validateFields();case 2:return t=n.sent,n.prev=3,n.next=6,r={name:t.name,type:t.type},C.Z.post("app",r);case 6:l(!1),d.resetFields(),c.ZP.success("\u521b\u5efa\u6210\u529f"),e.onSuccess(),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),console.log(n.t0);case 15:case"end":return n.stop()}var r}),n,null,[[3,12]])})));return function(){return n.apply(this,arguments)}}();return(0,P.jsx)(g.Z,{title:"\u65b0\u5efa\u5e94\u7528",open:a,onOk:p,onCancel:function(){d.resetFields(),l(!1)},destroyOnClose:!0,cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",children:(0,P.jsxs)(y.Z,{labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",form:d,initialValues:{type:1},children:[(0,P.jsx)(y.Z.Item,{label:"\u5e94\u7528\u7c7b\u578b",name:"type",children:(0,P.jsxs)(b.ZP.Group,{children:[(0,P.jsx)(b.ZP,{value:1,children:"H5/PC/Web\u9879\u76ee"}),(0,P.jsx)(b.ZP,{value:2,children:"\u5c0f\u7a0b\u5e8f"})]})}),(0,P.jsx)(y.Z.Item,{label:"\u5e94\u7528\u540d\u79f0",name:"name",rules:[{required:!0}],children:(0,P.jsx)(w.Z,{})}),(0,P.jsx)(y.Z.Item,{label:"\u4e0a\u4f20\u56fe\u6807",valuePropName:"fileList",getValueFromEvent:function(e){return Array.isArray(e)?e:null===e||void 0===e?void 0:e.fileList},children:(0,P.jsx)(k.Z,{action:"/upload.do",listType:"picture-card",children:(0,P.jsxs)("div",{children:[(0,P.jsx)(Z.Z,{}),(0,P.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})})]})})};var T=t.p+"static/media/H5.99da6d33f21e67d91cbbeabfecad6365.svg";var I=t.p+"static/media/mp.f80329825a8bc57599fa4d9805213d04.svg",F=t(7689),R=t(6998),S=t.n(R),D=l.Z.Title,L=l.Z.Text,H=function(){var e=(0,F.s0)(),n=(0,m.useRef)(null),t=(0,m.useState)([]),l=(0,i.Z)(t,2),y=l[0],g=l[1],b=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.Z.get("app");case 2:(n=e.sent).data&&Array.isArray(n.data)&&g(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,m.useEffect)((function(){b()}),[]);var w=[{key:"1",label:"\u7f16\u8f91"},{key:"2",label:"\u5220\u9664"}],k=function(){e("/home/web")};return(0,P.jsxs)(a.ZP,{children:[(0,P.jsxs)(a.VY,{style:{margin:"24px 32px"},children:[(0,P.jsx)(D,{level:4,children:"\u5e94\u7528\u63a5\u5165"}),(0,P.jsx)("div",{className:"app-header",children:(0,P.jsx)(o.ZP,{type:"primary",icon:(0,P.jsx)(Z.Z,{}),size:"middle",onClick:function(){return n.current.showModal()},children:"\u521b\u5efa\u5e94\u7528"})}),(0,P.jsx)("div",{className:"app-list",children:y.length>0?(0,P.jsx)(d.Z,{gutter:[16,16],children:y.map((function(e,n){return(0,P.jsx)(u.Z,{span:6,children:(0,P.jsxs)(p.Z,{hoverable:!0,onClick:k,children:[(0,P.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,P.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,P.jsx)(x.Z,{width:20,height:20,src:"1"===e.type?T:I}),(0,P.jsx)(D,{style:{marginLeft:"8px"},level:5,children:e.name})]}),(0,P.jsx)(h.Z,{menu:{items:w},placement:"bottomRight",arrow:{pointAtCenter:!0},children:(0,P.jsx)(j.Z,{})})]}),(0,P.jsx)("div",{style:{marginTop:"16px"},children:(0,P.jsxs)(L,{children:["AppID\uff1a ",(0,P.jsx)(L,{type:"secondary",children:e.aid}),(0,P.jsx)(v.Z,{style:{marginLeft:"8px"},onClick:function(n){return function(e,n){e.stopPropagation(),S()(n),c.ZP.success("\u5df2\u590d\u5236")}(n,e.aid)}})]})})]})},n.toString())}))}):(0,P.jsx)(f.Z,{description:"\u6682\u65e0\u5e94\u7528"})})]}),(0,P.jsx)(a.$_,{style:{textAlign:"center"},children:"React + Ant Design"}),(0,P.jsx)(A,{onSuccess:b,innerRef:n})]})}}}]);
//# sourceMappingURL=433.e65d4b76.chunk.js.map
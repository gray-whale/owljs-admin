{"version":3,"file":"static/js/9289.2129f77e.chunk.js","mappings":"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","sources":["api/modules/web/sourcemap.ts","utils/util.ts","views/miniapp/js/sourcemap/addSourcemap/index.tsx","views/miniapp/js/sourcemap/index.tsx","../node_modules/@ant-design/icons-svg/es/asn/InboxOutlined.js","../node_modules/@ant-design/icons/es/icons/InboxOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/UploadOutlined.js","../node_modules/@ant-design/icons/es/icons/UploadOutlined.js"],"sourcesContent":["import { Sourcemap } from \"@/api/interface/web/sourcemap\";\nimport http from \"../../index\"\nimport { ReqPage, ResPage } from \"../../interface\";\n\n// 获取sourcemap列表\nexport const getSourcemapList = (params: ReqPage) => {\n    return http.get<ResPage<Sourcemap.ResSourcemap>>('web/sourcemap', params);\n};\n\n// 新增sourcemap信息\nexport const addSourcemap = (params: Sourcemap.CreateSourcemap) => {\n    return http.post<ResPage<Sourcemap.ResSourcemap>>('web/sourcemap', params);\n};\n\n// 获取sourcemap\nexport const getSourcemap = (id: string) => {\n    return http.get<Sourcemap.ResSourcemap>(`web/sourcemap/${id}`);\n};","import { MenuItem } from \"@/layout/components/SiderMenu\";\n\n/**\n* @description 递归当前路由的 所有 关联的路由，生成面包屑导航栏\n* @param {String} path 当前访问地址\n* @param {Array} menuList 菜单列表\n* @returns array\n*/\nexport const getBreadcrumbList = (path: string, menuList: MenuItem[]) => {\n\tlet tempPath: any[] = [];\n\ttry {\n\t\tconst getNodePath = (node: MenuItem) => {\n\t\t\ttempPath.push(node);\n\t\t\t// 找到符合条件的节点，通过throw终止掉递归\n\t\t\tif (node?.key === path) {\n\t\t\t\tthrow new Error(\"GOT IT!\");\n\t\t\t}\n\t\t\tif (node?.['children'] && node?.['children'].length > 0) {\n\t\t\t\tfor (let i = 0; i < node?.['children'].length; i++) {\n\t\t\t\t\tgetNodePath(node['children'][i]);\n\t\t\t\t}\n\t\t\t\t// 当前节点的子节点遍历完依旧没找到，则删除路径中的该节点\n\t\t\t\ttempPath.pop();\n\t\t\t} else {\n\t\t\t\t// 找到叶子节点时，删除路径当中的该叶子节点\n\t\t\t\ttempPath.pop();\n\t\t\t}\n\t\t};\n\t\tfor (let i = 0; i < menuList.length; i++) {\n\t\t\tgetNodePath(menuList[i]);\n\t\t}\n\t\treturn [];\n\t} catch (e) {\n\t\treturn tempPath.map(item => item.label) as string[];\n\t}\n};\n\nexport function download(filename: string, content: string) {\n\tconst arraybuffer = new TextEncoder().encode(content).buffer;\n\tconst blob = new Blob([arraybuffer], { type: 'text/plain;charset=utf-8' });\n\tconst reader = new FileReader();\n\treader.readAsDataURL(blob);\n\treader.onload = (event: any) => {\n\t\tconst element: any = document.createElement('a');\n\t\telement.href = event.target.result;\n\t\telement.download = filename;\n\t\tdocument.body.appendChild(element);\n\t\telement.click();\n\t\tdocument.body.removeChild(element);\n\t};\n}","import { addSourcemap } from \"@/api/modules/web/sourcemap\";\nimport { CloseOutlined, InboxOutlined } from \"@ant-design/icons\";\nimport { Button, Drawer, Form, Input, Select, Space, UploadFile, UploadProps, message } from \"antd\";\nimport Dragger from \"antd/es/upload/Dragger\";\nimport { useState } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\n\ninterface Props {\n    open: boolean;\n    onSuccess: () => void;\n    onClose: () => void\n}\n\nconst AddSourcemapPage: React.FC<Props> = (props: Props) => {\n    const [form] = Form.useForm();\n    const [fileList, setFileList] = useState<UploadFile[]>([]);\n    const [sourcemap, setSourcemap] = useState<string>('');\n    const [searchParams] = useSearchParams();\n    const [messageApi, contextHolder] = message.useMessage();\n\n    const onFinish = async (values: any) => {\n        const appId = searchParams.get('appId');\n        if (!appId) {\n            messageApi.open({\n                type: 'error',\n                content: 'appId不能为空!',\n            });\n            return;\n        }\n        try {\n            await addSourcemap({\n                filename: values.name,\n                sourcemap: sourcemap,\n                site_type: 'web',\n                appId: appId,\n                release: values.release\n            });\n            //清空form\n            form.resetFields();\n            message.success(\"创建成功\");\n            props.onSuccess();\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    const uploadProps: UploadProps = {\n        accept: '.js.map',\n        multiple: false,\n        maxCount: 1,\n        onRemove: (file) => {\n            const index = fileList.indexOf(file);\n            const newFileList = fileList.slice();\n            newFileList.splice(index, 1);\n            setFileList(newFileList);\n        },\n        beforeUpload: (file) => {\n            const reader = new FileReader();\n            // result 属性中将包含一个字符串以表示所读取的文件内容。\n            reader.readAsBinaryString(file);\n            reader.onload = function () {\n                setSourcemap(this.result as string);\n            }\n            setFileList([...fileList, file]);\n            return false;\n        },\n        fileList,\n    };\n\n    const onChange = (value: string) => {\n        console.log(`selected ${value}`);\n    };\n\n    const onSearch = (value: string) => {\n        console.log('search:', value);\n    };\n\n    const normFile = (e: any) => {\n        if (Array.isArray(e)) {\n            return e;\n        }\n        return e?.fileList;\n    };\n\n    return (\n        <Drawer\n            title=\"上传SourceMap\"\n            placement='right'\n            width={500}\n            closable={false}\n            open={props.open}\n            extra={\n                <Space>\n                    <CloseOutlined onClick={props.onClose} />\n                </Space>\n            }\n        >\n            {contextHolder}\n            <Form\n                layout=\"vertical\"\n                form={form}\n                onFinish={onFinish}\n                initialValues={{ type: 1 }}\n            >\n                <Form.Item label=\"js sourcemap文件名\" name=\"name\" rules={[{ required: true }]}>\n                    <Input />\n                </Form.Item>\n                <Form.Item label=\"上传 Sourcemap 文件\" name=\"dragger\" rules={[{ required: true }]}>\n                    <Form.Item name=\"dragger\" valuePropName=\"fileList\" getValueFromEvent={normFile} noStyle>\n                        <Dragger {...uploadProps}>\n                            <p className=\"ant-upload-drag-icon\">\n                                <InboxOutlined />\n                            </p>\n                            <p className=\"ant-upload-text\">点击或拖拽文件到此处上传</p>\n                            <p className=\"ant-upload-hint\">\n                                只支持.js.map文件\n                            </p>\n                        </Dragger>\n                    </Form.Item>\n                </Form.Item>\n                <Form.Item label=\"Release\" name=\"release\" rules={[{ required: true }]}>\n                    <Select\n                        showSearch\n                        allowClear\n                        placeholder=\"选择或输入对应版本\"\n                        optionFilterProp=\"children\"\n                        onChange={onChange}\n                        onSearch={onSearch}\n                        filterOption={(input, option) =>\n                            (option?.label ?? '').toLowerCase().includes(input.toLowerCase())\n                        }\n                        options={[\n                            {\n                                value: 'jack',\n                                label: 'Jack',\n                            },\n                            {\n                                value: 'lucy',\n                                label: 'Lucy',\n                            },\n                            {\n                                value: 'tom',\n                                label: 'Tom',\n                            },\n                        ]}\n                    />\n                </Form.Item>\n                <Form.Item>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        确定\n                    </Button>\n                </Form.Item>\n            </Form>\n        </Drawer>\n    );\n}\n\nexport default AddSourcemapPage;","import { UploadOutlined } from \"@ant-design/icons\";\nimport { Button, Card, Space, Table } from \"antd\";\nimport { ColumnsType } from \"antd/es/table\";\nimport { useEffect, useState } from \"react\";\nimport AddSourcemapPage from \"./addSourcemap\";\nimport { getSourcemap, getSourcemapList } from \"@/api/modules/web/sourcemap\";\nimport { download } from \"@/utils/util\";\n\ninterface DataType {\n    key: React.Key;\n    filename: string;\n    release: string;\n    filesize: number;\n    createdAt: string;\n}\n\nconst SourceMapManage = () => {\n    const [pageNum, setPageNum] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [sourcemapTotal, setSourcemapTotal] = useState(0);\n    const [sourcemapList, setSourcemapList] = useState<DataType[]>([]);\n    const [showCreatePage, setShowCreatePage] = useState(false);\n\n    const columns: ColumnsType<DataType> = [\n        {\n            title: '文件名',\n            dataIndex: 'filename',\n            width: 50,\n        },\n        {\n            title: 'release',\n            dataIndex: 'release',\n            width: 100,\n        },\n        {\n            title: '文件大小',\n            dataIndex: 'filesize',\n            width: 50,\n        },\n        {\n            title: '上传时间',\n            dataIndex: 'createdAt',\n            width: 100,\n        },\n        {\n            title: '操作',\n            width: 100,\n            render: (_, record) => (\n                <Space size=\"middle\">\n                    <Button type=\"link\" onClick={(e) => downloadSourceMap(e, record.key.toString())}>下载 Sourcemap</Button>\n                </Space>\n            ),\n        },\n    ];\n\n    const downloadSourceMap = async (e: React.MouseEvent, smId: string) => {\n        const result = await getSourcemap(smId);\n        if (result.data) {\n            download(`${result.data.filename}.js.map`, result.data.sourcemap);\n        }\n    }\n\n    const initSourcemapList = async () => {\n        const result = await getSourcemapList({ pageNum, pageSize });\n        if (result.data) {\n            setSourcemapTotal(result.data.total);\n            const data: DataType[] = [];\n            result.data.data.forEach(item => {\n                data.push({\n                    key: item.smId,\n                    release: item.release,\n                    createdAt: item.createdAt,\n                    filename: item.filename,\n                    filesize: item.filesize,\n                })\n            });\n            setSourcemapList(data);\n        }\n    };\n\n    useEffect(() => {\n        initSourcemapList();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        initSourcemapList();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [pageNum, pageSize]);\n\n    const pagination = {\n        showSizeChanger: true,\n        onChange: (page: number, pageSize: number) => {\n            setPageNum(page);\n            setPageSize(pageSize);\n        },\n        defaultCurrent: pageNum,\n        total: sourcemapTotal\n    }\n\n    return (<div>\n        <Card title=\"sourcemap列表\" style={{ marginTop: '20px' }}>\n            <Button type=\"primary\" icon={<UploadOutlined />} onClick={e => setShowCreatePage(true)}>\n                上传Sourcemap\n            </Button>\n            <Table style={{ marginTop: '12px' }} pagination={pagination} columns={columns} dataSource={sourcemapList} />\n        </Card>\n        <AddSourcemapPage onSuccess={() => { setShowCreatePage(false); initSourcemapList(); }} open={showCreatePage} onClose={() => setShowCreatePage(false)}></AddSourcemapPage>\n    </div>);\n}\n\nexport default SourceMapManage;","// This icon file is generated automatically.\nvar InboxOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z\" } }] }, \"name\": \"inbox\", \"theme\": \"outlined\" };\nexport default InboxOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport InboxOutlinedSvg from \"@ant-design/icons-svg/es/asn/InboxOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar InboxOutlined = function InboxOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: InboxOutlinedSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  InboxOutlined.displayName = 'InboxOutlined';\n}\nexport default /*#__PURE__*/React.forwardRef(InboxOutlined);","// This icon file is generated automatically.\nvar UploadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"upload\", \"theme\": \"outlined\" };\nexport default UploadOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport UploadOutlinedSvg from \"@ant-design/icons-svg/es/asn/UploadOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar UploadOutlined = function UploadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: UploadOutlinedSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  UploadOutlined.displayName = 'UploadOutlined';\n}\nexport default /*#__PURE__*/React.forwardRef(UploadOutlined);"],"names":["getSourcemapList","params","http","get","addSourcemap","post","getSourcemap","id","concat","getBreadcrumbList","path","menuList","tempPath","getNodePath","node","push","key","Error","length","i","pop","e","map","item","label","download","filename","content","arraybuffer","TextEncoder","encode","buffer","blob","Blob","type","reader","FileReader","readAsDataURL","onload","event","element","document","createElement","href","target","result","body","appendChild","click","removeChild","props","form","Form","useForm","fileList","setFileList","useState","sourcemap","setSourcemap","searchParams","useSearchParams","messageApi","contextHolder","message","useMessage","uploadProps","accept","multiple","maxCount","onRemove","file","index","indexOf","newFileList","slice","splice","beforeUpload","readAsBinaryString","this","_jsxs","Drawer","title","placement","width","closable","open","extra","_jsx","Space","children","CloseOutlined","onClick","onClose","layout","onFinish","async","appId","values","name","site_type","release","resetFields","success","onSuccess","error","console","log","initialValues","Item","rules","required","Input","valuePropName","getValueFromEvent","Array","isArray","noStyle","Dragger","className","InboxOutlined","Select","showSearch","allowClear","placeholder","optionFilterProp","onChange","value","onSearch","filterOption","input","option","_option$label","toLowerCase","includes","options","Button","htmlType","SourceMapManage","pageNum","setPageNum","pageSize","setPageSize","sourcemapTotal","setSourcemapTotal","sourcemapList","setSourcemapList","showCreatePage","setShowCreatePage","columns","dataIndex","render","_","record","size","downloadSourceMap","toString","smId","data","initSourcemapList","total","forEach","createdAt","filesize","useEffect","pagination","showSizeChanger","page","defaultCurrent","Card","style","marginTop","icon","UploadOutlined","Table","dataSource","AddSourcemapPage","ref","React","AntdIcon","_extends","InboxOutlinedSvg","UploadOutlinedSvg"],"sourceRoot":""}
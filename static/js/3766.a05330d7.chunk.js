"use strict";(self.webpackChunkmonitor_admin=self.webpackChunkmonitor_admin||[]).push([[3766],{1583:(e,a,t)=>{t.d(a,{Z:()=>h});var l=t(9286),d=t(8712),s=t(952),n=t(6473),r=t(3403),i=t(2641),o=t(7892),c=t.n(o),u=t(3329);const{RangePicker:p}=d.default,h=e=>{let{data:a}=e;const t=[{label:"\u6700\u8fd130\u5206\u949f",value:[c()().add(-30,"minute"),c()()]},{label:"\u6700\u8fd11\u5c0f\u65f6",value:[c()().add(-1,"h"),c()()]},{label:"\u6700\u8fd13\u5c0f\u65f6",value:[c()().add(-7,"h"),c()()]},{label:"\u6700\u8fd11\u5929",value:[c()().add(-1,"d"),c()()]},{label:"\u6700\u8fd13\u5929",value:[c()().add(-3,"d"),c()()]},{label:"\u6700\u8fd17\u5929",value:[c()().add(-7,"d"),c()()]},{label:"\u6700\u8fd11\u4e2a\u6708",value:[c()().add(-1,"M"),c()()]}],d=(0,u.jsx)("div",{style:{maxWidth:"400px"},children:["pid","\u6d4f\u89c8\u5668","\u6d4f\u89c8\u5668\u7248\u672c","\u7cfb\u7edf","\u7cfb\u7edf\u7248\u672c","\u56fd\u5bb6/\u5730\u533a","\u7701\u4efd","\u57ce\u5e02","IP","\u54c1\u724c","\u673a\u578b","\u9875\u9762url","session_id","view_id","env","release","use_agent","\u8bf7\u6c42\u53c2\u6570","\u7f51\u7edc\u7c7b\u578b","use_id","device_id"].map((e=>(0,u.jsx)(s.Z,{color:"blue",className:"filter-header-tag",children:e},e)))});return(0,u.jsxs)(n.Z,{children:[(0,u.jsx)(p,{showTime:!0,presets:t,onChange:(e,a)=>{e?(console.log("From: ",e[0],", to: ",e[1]),console.log("From: ",a[0],", to: ",a[1])):console.log("Clear")},defaultValue:[c()().add(-1,"d"),c()()]}),(0,u.jsx)(r.Z,{placement:"bottomLeft",trigger:"click",content:d,arrow:!1,children:(0,u.jsx)(i.ZP,{icon:(0,u.jsx)(l.Z,{}),style:{marginLeft:"8px"},children:"\u7b5b\u9009\u6761\u4ef6"})})]})}},3766:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var l=t(4689);var d=t(1583),s=t(5722),n=t(952),r=t(2641),i=t(6473),o=t(2954),c=t(2791),u=t(1087),p=t(3329);const h=()=>{const[e,a]=(0,c.useState)(1),[t,h]=(0,c.useState)(10),[v,g]=(0,c.useState)(0),[x,m]=(0,c.useState)([]),[f,j]=(0,c.useState)([]),[w]=(0,u.lr)(),[Z]=s.ZP.useMessage(),b=[{title:"\u7248\u672c",width:100,render:(e,a)=>(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,p.jsx)(n.Z,{color:"blue",children:a.release}),"\xa0\xa0|\xa0\xa0",a.env]},a.versionId)},{title:"\u4e0a\u7ebf\u65f6\u95f4",dataIndex:"createdAt",width:200},{title:"\u64cd\u4f5c",width:200,render:(e,a)=>(0,p.jsx)(r.ZP,{type:"link",children:"\u8be6\u60c5"})}],I={selectedRowKeys:f,onChange:e=>{j(e)}},y=async()=>{const a=w.get("appId");if(!a)return void Z.open({type:"error",content:"appId\u4e0d\u80fd\u4e3a\u7a7a!"});const d=await(s={pageNum:e,pageSize:t,appId:a},l.Z.get("mp/version",s));var s;if(d.data){g(d.data.total);const e=[];d.data.data.forEach((a=>{e.push({versionId:a.versionId,appId:a.appId,release:a.release,env:a.env,createdAt:a.createdAt})})),m(e)}};(0,c.useEffect)((()=>{y()}),[]),(0,c.useEffect)((()=>{y()}),[e,t]);const S={showSizeChanger:!0,onChange:(e,t)=>{a(e),h(t)},defaultCurrent:e,total:v};return(0,p.jsxs)("div",{children:[(0,p.jsx)(d.Z,{}),(0,p.jsx)(i.Z,{title:"\u7248\u672c\u5217\u8868",style:{marginTop:"16px"},children:(0,p.jsx)(o.Z,{style:{marginTop:"12px"},rowSelection:I,pagination:S,columns:b,dataSource:x})})]})}}}]);
//# sourceMappingURL=3766.a05330d7.chunk.js.map
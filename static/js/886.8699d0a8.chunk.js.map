{"version":3,"file":"static/js/886.8699d0a8.chunk.js","mappings":"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","sources":["api/modules/app.ts","assets/svg/H5.svg","assets/svg/mp.svg","views/app/addApp/index.tsx","views/app/index.tsx"],"sourcesContent":["import http from \"../index\"\nimport { ReqPage, ResPage } from \"../interface\";\nimport { App } from \"../interface/app\";\n\n// 新增应用\nexport const addApp = (params: App.CreateAppForm) => {\n    return http.post<App.ResApp>('app', params);\n};\n\n// 获取应用列表\nexport const getAppList = (params: ReqPage) => {\n    return http.get<ResPage<App.ResApp>>('app', params);\n};\n\n// 删除单个应用\nexport const deleteApp = (id: string) => {\n    return http.delete<App.ResApp>(`app/${id}`);\n};\n\n// 获取应用信息\nexport const getAppInfo = (appId: string) => {\n    return http.get<App.ResApp>(`app/${appId}`);\n};","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgH5(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    t: 1686355149829,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"p-id\": 5767,\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 200,\n    height: 200,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M478.134857 0H0l92.525714 922.331429L478.134857 1024l385.536-101.668571L956.269714 0H478.134857z m291.693714 306.980571H315.245714l7.533715 107.008h431.835428l-30.281143 349.622858-250.075428 64.219428-242.395429-64.219428-15.140571-178.322286H337.92l7.533714 85.577143 128.804572 35.693714 136.411428-35.693714 7.533715-142.628572H209.188571l-30.354285-335.433143h598.528l-7.533715 114.102858z\",\n    fill: \"#CD8686\",\n    \"p-id\": 5768\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgH5);\nexport default __webpack_public_path__ + \"static/media/H5.99da6d33f21e67d91cbbeabfecad6365.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgMp(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    t: 1686355617418,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"p-id\": 6847,\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 200,\n    height: 200,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M512 0a512 512 0 1 0 512 512A512 512 0 0 0 512 0z m256.717 460.186a151.962 151.962 0 0 1-87.347 65.74 83.251 83.251 0 0 1-24.474 4.096 29.082 29.082 0 0 1 0-58.163 15.667 15.667 0 0 0 6.451-1.229 91.443 91.443 0 0 0 55.91-40.96 75.264 75.264 0 0 0 11.06-39.628c0-45.978-42.496-83.866-94.31-83.866a105.267 105.267 0 0 0-51.2 13.414 81.92 81.92 0 0 0-43.725 70.452v244.224a138.445 138.445 0 0 1-72.704 120.422 159.642 159.642 0 0 1-79.77 20.48c-84.378 0-153.6-63.488-153.6-142.029a136.192 136.192 0 0 1 19.763-69.837 151.962 151.962 0 0 1 87.347-65.74 85.914 85.914 0 0 1 24.474-4.096 29.082 29.082 0 1 1 0 58.163 15.667 15.667 0 0 0-6.451 1.229 95.949 95.949 0 0 0-55.91 40.96 75.264 75.264 0 0 0-11.06 39.628c0 45.978 42.496 83.866 94.925 83.866a105.267 105.267 0 0 0 51.2-13.414 81.92 81.92 0 0 0 43.622-70.452V390.35a138.752 138.752 0 0 1 72.807-120.525 151.245 151.245 0 0 1 79.155-21.504c84.378 0 153.6 63.488 153.6 142.029a136.192 136.192 0 0 1-19.763 69.837z\",\n    fill: \"#00B240\",\n    \"p-id\": 6848\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMp);\nexport default __webpack_public_path__ + \"static/media/mp.f80329825a8bc57599fa4d9805213d04.svg\";\nexport { ForwardRef as ReactComponent };","import { Button, Drawer, Form, Input, Radio, Space, message } from \"antd\";\nimport { CloseOutlined } from \"@ant-design/icons\";\nimport { addApp } from \"@/api/modules/app\";\n\ninterface Props {\n\topen: boolean;\n\tonSuccess: () => void;\n\tonClose: () => void\n}\n\nconst AddAppPage: React.FC<Props> = (props: Props) => {\n\tconst [form] = Form.useForm();\n\n\tconst onFinish = async (values: any) => {\n\t\ttry {\n\t\t\tawait addApp({\n\t\t\t\tname: values.name,\n\t\t\t\ttype: values.type\n\t\t\t});\n\t\t\t//清空form\n\t\t\tform.resetFields();\n\t\t\tmessage.success(\"创建成功\");\n\t\t\tprops.onSuccess();\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Drawer\n\t\t\ttitle=\"新建应用\"\n\t\t\tplacement='right'\n\t\t\twidth={500}\n\t\t\tclosable={false}\n\t\t\topen={props.open}\n\t\t\textra={\n\t\t\t\t<Space>\n\t\t\t\t\t<CloseOutlined onClick={props.onClose} />\n\t\t\t\t</Space>\n\t\t\t}\n\t\t>\n\t\t\t<Form\n\t\t\t\tlabelCol={{ span: 6 }}\n\t\t\t\twrapperCol={{ span: 18 }}\n\t\t\t\tlayout=\"horizontal\"\n\t\t\t\tform={form}\n\t\t\t\tonFinish={onFinish}\n\t\t\t\tinitialValues={{ type: 1 }}\n\t\t\t>\n\t\t\t\t<Form.Item label=\"应用类型\" name=\"type\">\n\t\t\t\t\t<Radio.Group>\n\t\t\t\t\t\t<Radio value={1}>H5/PC/Web项目</Radio>\n\t\t\t\t\t\t<Radio value={2}>小程序</Radio>\n\t\t\t\t\t</Radio.Group>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"应用名称\" name=\"name\" rules={[{ required: true }]}>\n\t\t\t\t\t<Input />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item wrapperCol={{ offset: 6, span: 18 }}>\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\n\t\t\t\t\t\t确定\n\t\t\t\t\t</Button>\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\t\t</Drawer>\n\t);\n};\nexport default AddAppPage;","import Layout from \"antd/es/layout/layout\";\nimport { Button, Card, Col, Row, Typography, Image, Dropdown, MenuProps, Empty, message, Pagination, PaginationProps, Modal } from 'antd';\nimport { useEffect, useState } from \"react\";\nimport \"./app.less\";\nimport { CopyOutlined, DeleteOutlined, EditOutlined, PlusOutlined, SettingOutlined } from \"@ant-design/icons\";\nimport { deleteApp, getAppList } from \"@/api/modules/app\";\nimport H5Logo from \"@/assets/svg/H5.svg\"\nimport MPLogo from \"@/assets/svg/mp.svg\"\nimport { useNavigate } from \"react-router-dom\";\nimport copy from 'copy-to-clipboard';\nimport AddAppPage from \"./addApp\";\n\nconst { Title, Text } = Typography;\n\nconst View: React.FC = () => {\n    const navigate = useNavigate();\n    const [pageNum, setPageNum] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [appTotal, setAppTotal] = useState(0);\n    const [appList, setAppList] = useState([]);\n    const [showCreatePage, setShowCreatePage] = useState(false);\n    const [showConfirm, setShowConfirm] = useState(false);\n    const [actionId, setActionId] = useState('');\n\n    const initAppList = async () => {\n        const result = await getAppList({ pageNum, pageSize });\n        if (result.data) {\n            setAppTotal(result.data.total);\n            setAppList(result.data.data as []);\n        }\n    };\n\n    useEffect(() => {\n        initAppList();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    useEffect(() => {\n        initAppList();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [pageNum, pageSize])\n\n\n    const getDropdownMenu = (appId: string): MenuProps['items'] => {\n        return [\n            {\n                key: '1',\n                label: '编辑',\n                icon: <EditOutlined />,\n                onClick: ({ domEvent }) => { domEvent.stopPropagation()\t }\n            },\n            {\n                key: '2',\n                label: '删除',\n                icon: <DeleteOutlined />,\n                onClick: async ({ domEvent }) => {\n                    domEvent.stopPropagation()\t\n                    setActionId(appId);\n                    setShowConfirm(true);\n                }\n            },\n        ];\n    }\n\n    const confirmDelete = async () => {\n        setShowConfirm(false);\n        const result = await deleteApp(actionId);\n        if (result.code === 200) {\n            message.success('删除成功');\n            initAppList();\n        }\n    }\n\n    const cancelDelete = () => {\n        setShowConfirm(false);\n    }\n\n    const navigateToApp = (appId: string) => {\n        navigate(`/home/web?appId=${appId}`);\n    }\n\n    const copyText = (e: React.MouseEvent, text: string) => {\n        e.stopPropagation();\n        copy(text);\n        message.success('已复制')\n    }\n\n    const onChange: PaginationProps['onChange'] = (page, pageSize) => {\n        setPageNum(page);\n        setPageSize(pageSize);\n    };\n\n    return <Layout>\n        <div style={{ margin: '0 32px', padding: '16px', height: '100%' }}>\n            <Title level={4}>应用接入</Title>\n            <div className=\"app-header\">\n                <Button type=\"primary\" icon={<PlusOutlined />} size=\"middle\" onClick={e => setShowCreatePage(true)}>\n                    创建应用\n                </Button>\n            </div>\n            {appList.length > 0 ? <div className=\"app-list\">\n                <Row gutter={[16, 16]}>\n                    {\n                        appList.map((app: any, index) => {\n                            return (<Col key={index.toString()} span={24 / 3}>\n                                <Card hoverable onClick={e => navigateToApp(app.appId)}>\n                                    <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' }}>\n                                        <div style={{ display: 'flex', flexDirection: 'row' }}>\n                                            <Image\n                                                width={20}\n                                                height={20}\n                                                src={app.type === '1' ? H5Logo : MPLogo}\n                                            />\n                                            <Title style={{ marginLeft: '8px' }} level={5}>{app.name}</Title>\n                                        </div>\n                                        <Dropdown menu={{\n                                            items: getDropdownMenu(app.appId)\n                                        }} placement=\"bottomRight\" arrow={{ pointAtCenter: true }} >\n                                            <SettingOutlined />\n                                        </Dropdown>\n                                    </div>\n                                    <div style={{ marginTop: '16px' }}>\n                                        <Text>AppID： <Text type=\"secondary\">{app.aid}</Text><CopyOutlined style={{ marginLeft: '8px' }} onClick={(e) => copyText(e, app.aid)} /></Text>\n                                    </div>\n                                    <div style={{ marginTop: '8px', display: 'flex', justifyContent: 'space-between' }}>\n                                        <span>创建时间:{app.createdAt}</span>\n                                    </div>\n                                </Card>\n                            </Col>)\n                        })\n                    }\n                </Row>\n                <Pagination\n                    style={{ marginTop: '20px' }}\n                    showSizeChanger\n                    onChange={onChange}\n                    defaultCurrent={pageNum}\n                    total={appTotal}\n                />\n            </div> : <Empty description=\"暂无应用\" />}\n        </div>\n        <AddAppPage onSuccess={() => { setShowCreatePage(false); initAppList(); }} open={showCreatePage} onClose={() => setShowCreatePage(false)}></AddAppPage>\n        <Modal title=\"提示!\" open={showConfirm} onOk={confirmDelete} onCancel={cancelDelete}>\n            确认删除？\n        </Modal>\n    </Layout>;\n}\n\nexport default View;"],"names":["addApp","params","http","post","getAppList","get","deleteApp","id","delete","concat","getAppInfo","appId","props","_Form$useForm","Form","useForm","form","_slicedToArray","onFinish","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","wrap","_context","prev","next","name","type","resetFields","message","success","onSuccess","t0","console","log","stop","_x","apply","arguments","_jsx","Drawer","title","placement","width","closable","open","extra","Space","children","CloseOutlined","onClick","onClose","_jsxs","labelCol","span","wrapperCol","layout","initialValues","Item","label","Radio","value","rules","required","Input","offset","Button","htmlType","Title","Typography","Text","navigate","useNavigate","_useState","useState","_useState2","pageNum","setPageNum","_useState3","_useState4","pageSize","setPageSize","_useState5","_useState6","appTotal","setAppTotal","_useState7","_useState8","appList","setAppList","_useState9","_useState10","showCreatePage","setShowCreatePage","_useState11","_useState12","showConfirm","setShowConfirm","_useState13","_useState14","actionId","setActionId","initAppList","result","sent","data","total","useEffect","confirmDelete","_ref4","_callee3","_context3","code","Layout","style","margin","padding","height","level","className","icon","PlusOutlined","size","e","length","Row","gutter","map","app","index","Col","Card","hoverable","display","flexDirection","justifyContent","alignItems","Image","src","H5Logo","MPLogo","marginLeft","Dropdown","menu","items","key","EditOutlined","_ref2","domEvent","stopPropagation","DeleteOutlined","_onClick","_callee2","_ref3","_context2","arrow","pointAtCenter","SettingOutlined","marginTop","aid","CopyOutlined","text","copy","copyText","createdAt","toString","Pagination","showSizeChanger","onChange","page","defaultCurrent","Empty","description","AddAppPage","Modal","onOk","onCancel"],"sourceRoot":""}
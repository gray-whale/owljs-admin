{"version":3,"file":"static/js/289.d834c34f.chunk.js","mappings":"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","sources":["api/modules/app.ts","api/modules/web/sourcemap.ts","utils/util.ts","views/miniapp/js/sourcemap/addSourcemap/index.tsx","views/miniapp/js/sourcemap/index.tsx","../node_modules/@ant-design/icons-svg/es/asn/InboxOutlined.js","../node_modules/@ant-design/icons/es/icons/InboxOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/UploadOutlined.js","../node_modules/@ant-design/icons/es/icons/UploadOutlined.js"],"sourcesContent":["import http from \"../index\"\nimport { ReqPage, ResPage } from \"../interface\";\nimport { App } from \"../interface/app\";\n\n// 新增应用\nexport const addApp = (params: App.CreateAppForm) => {\n    return http.post<App.ResApp>('app', params);\n};\n\n// 获取应用列表\nexport const getAppList = (params: ReqPage) => {\n    return http.get<ResPage<App.ResApp>>('app', params);\n};\n\n// 删除单个应用\nexport const deleteApp = (id: string) => {\n    return http.delete<App.ResApp>(`app/${id}`);\n};\n\n// 获取应用信息\nexport const getAppInfo = (appId: string) => {\n    return http.get<App.ResApp>(`app/${appId}`);\n};","import { Sourcemap } from \"@/api/interface/web/sourcemap\";\nimport http from \"../../index\"\nimport { ReqPage, ResPage } from \"../../interface\";\n\n// 获取sourcemap列表\nexport const getSourcemapList = (params: ReqPage) => {\n    return http.get<ResPage<Sourcemap.ResSourcemap>>('web/sourcemap', params);\n};\n\n// 新增sourcemap信息\nexport const addSourcemap = (params: Sourcemap.CreateSourcemap) => {\n    return http.post<ResPage<Sourcemap.ResSourcemap>>('web/sourcemap', params);\n};\n\n// 获取sourcemap\nexport const getSourcemap = (id: string) => {\n    return http.get<Sourcemap.ResSourcemap>(`web/sourcemap/${id}`);\n};","import { MenuItem } from \"@/layout/components/SiderMenu\";\n\n/**\n* @description 递归当前路由的 所有 关联的路由，生成面包屑导航栏\n* @param {String} path 当前访问地址\n* @param {Array} menuList 菜单列表\n* @returns array\n*/\nexport const getBreadcrumbList = (path: string, menuList: MenuItem[]) => {\n\tlet tempPath: any[] = [];\n\ttry {\n\t\tconst getNodePath = (node: MenuItem) => {\n\t\t\ttempPath.push(node);\n\t\t\t// 找到符合条件的节点，通过throw终止掉递归\n\t\t\tif (node?.key === path) {\n\t\t\t\tthrow new Error(\"GOT IT!\");\n\t\t\t}\n\t\t\tif (node?.['children'] && node?.['children'].length > 0) {\n\t\t\t\tfor (let i = 0; i < node?.['children'].length; i++) {\n\t\t\t\t\tgetNodePath(node['children'][i]);\n\t\t\t\t}\n\t\t\t\t// 当前节点的子节点遍历完依旧没找到，则删除路径中的该节点\n\t\t\t\ttempPath.pop();\n\t\t\t} else {\n\t\t\t\t// 找到叶子节点时，删除路径当中的该叶子节点\n\t\t\t\ttempPath.pop();\n\t\t\t}\n\t\t};\n\t\tfor (let i = 0; i < menuList.length; i++) {\n\t\t\tgetNodePath(menuList[i]);\n\t\t}\n\t\treturn [];\n\t} catch (e) {\n\t\treturn tempPath.map(item => item.label) as string[];\n\t}\n};\n\nexport function download(filename: string, content: string) {\n\tconst arraybuffer = new TextEncoder().encode(content).buffer;\n\tconst blob = new Blob([arraybuffer], { type: 'text/plain;charset=utf-8' });\n\tconst reader = new FileReader();\n\treader.readAsDataURL(blob);\n\treader.onload = (event: any) => {\n\t\tconst element: any = document.createElement('a');\n\t\telement.href = event.target.result;\n\t\telement.download = filename;\n\t\tdocument.body.appendChild(element);\n\t\telement.click();\n\t\tdocument.body.removeChild(element);\n\t};\n}","import { addSourcemap } from \"@/api/modules/web/sourcemap\";\nimport { CloseOutlined, InboxOutlined } from \"@ant-design/icons\";\nimport { Button, Drawer, Form, Input, Select, Space, UploadFile, UploadProps, message } from \"antd\";\nimport Dragger from \"antd/es/upload/Dragger\";\nimport { useState } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\n\ninterface Props {\n    open: boolean;\n    onSuccess: () => void;\n    onClose: () => void\n}\n\nconst AddSourcemapPage: React.FC<Props> = (props: Props) => {\n    const [form] = Form.useForm();\n    const [fileList, setFileList] = useState<UploadFile[]>([]);\n    const [sourcemap, setSourcemap] = useState<string>('');\n    const [searchParams] = useSearchParams();\n    const [messageApi, contextHolder] = message.useMessage();\n\n    const onFinish = async (values: any) => {\n        const appId = searchParams.get('appId');\n        if (!appId) {\n            messageApi.open({\n                type: 'error',\n                content: 'appId不能为空!',\n            });\n            return;\n        }\n        try {\n            await addSourcemap({\n                filename: values.name,\n                sourcemap: sourcemap,\n                site_type: 'web',\n                appId: appId,\n                release: values.release\n            });\n            //清空form\n            form.resetFields();\n            message.success(\"创建成功\");\n            props.onSuccess();\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    const uploadProps: UploadProps = {\n        accept: '.js.map',\n        multiple: false,\n        maxCount: 1,\n        onRemove: (file) => {\n            const index = fileList.indexOf(file);\n            const newFileList = fileList.slice();\n            newFileList.splice(index, 1);\n            setFileList(newFileList);\n        },\n        beforeUpload: (file) => {\n            const reader = new FileReader();\n            // result 属性中将包含一个字符串以表示所读取的文件内容。\n            reader.readAsBinaryString(file);\n            reader.onload = function () {\n                setSourcemap(this.result as string);\n            }\n            setFileList([...fileList, file]);\n            return false;\n        },\n        fileList,\n    };\n\n    const onChange = (value: string) => {\n        console.log(`selected ${value}`);\n    };\n\n    const onSearch = (value: string) => {\n        console.log('search:', value);\n    };\n\n    const normFile = (e: any) => {\n        if (Array.isArray(e)) {\n            return e;\n        }\n        return e?.fileList;\n    };\n\n    return (\n        <Drawer\n            title=\"上传SourceMap\"\n            placement='right'\n            width={500}\n            closable={false}\n            open={props.open}\n            extra={\n                <Space>\n                    <CloseOutlined onClick={props.onClose} />\n                </Space>\n            }\n        >\n            {contextHolder}\n            <Form\n                layout=\"vertical\"\n                form={form}\n                onFinish={onFinish}\n                initialValues={{ type: 1 }}\n            >\n                <Form.Item label=\"js sourcemap文件名\" name=\"name\" rules={[{ required: true }]}>\n                    <Input />\n                </Form.Item>\n                <Form.Item label=\"上传 Sourcemap 文件\" name=\"dragger\" rules={[{ required: true }]}>\n                    <Form.Item name=\"dragger\" valuePropName=\"fileList\" getValueFromEvent={normFile} noStyle>\n                        <Dragger {...uploadProps}>\n                            <p className=\"ant-upload-drag-icon\">\n                                <InboxOutlined />\n                            </p>\n                            <p className=\"ant-upload-text\">点击或拖拽文件到此处上传</p>\n                            <p className=\"ant-upload-hint\">\n                                只支持.js.map文件\n                            </p>\n                        </Dragger>\n                    </Form.Item>\n                </Form.Item>\n                <Form.Item label=\"Release\" name=\"release\" rules={[{ required: true }]}>\n                    <Select\n                        showSearch\n                        allowClear\n                        placeholder=\"选择或输入对应版本\"\n                        optionFilterProp=\"children\"\n                        onChange={onChange}\n                        onSearch={onSearch}\n                        filterOption={(input, option) =>\n                            (option?.label ?? '').toLowerCase().includes(input.toLowerCase())\n                        }\n                        options={[\n                            {\n                                value: 'jack',\n                                label: 'Jack',\n                            },\n                            {\n                                value: 'lucy',\n                                label: 'Lucy',\n                            },\n                            {\n                                value: 'tom',\n                                label: 'Tom',\n                            },\n                        ]}\n                    />\n                </Form.Item>\n                <Form.Item>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        确定\n                    </Button>\n                </Form.Item>\n            </Form>\n        </Drawer>\n    );\n}\n\nexport default AddSourcemapPage;","import { getAppInfo } from \"@/api/modules/app\";\nimport { CopyOutlined, UploadOutlined } from \"@ant-design/icons\";\nimport { Button, Card, Space, Table, message } from \"antd\";\nimport { ColumnsType } from \"antd/es/table\";\nimport Title from \"antd/es/typography/Title\";\nimport copy from 'copy-to-clipboard';\nimport { useEffect, useState } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport AddSourcemapPage from \"./addSourcemap\";\nimport { getSourcemap, getSourcemapList } from \"@/api/modules/web/sourcemap\";\nimport { download } from \"@/utils/util\";\n\ninterface DataType {\n    key: React.Key;\n    filename: string;\n    release: string;\n    filesize: number;\n    createdAt: string;\n}\n\nconst SourceMapManage = () => {\n    const [key, setKey] = useState<string>('');\n    const [token, setToken] = useState<string>('');\n    const [pageNum, setPageNum] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [sourcemapTotal, setSourcemapTotal] = useState(0);\n    const [sourcemapList, setSourcemapList] = useState<DataType[]>([]);\n    const [searchParams] = useSearchParams();\n    const [showCreatePage, setShowCreatePage] = useState(false);\n\n    const initAppInfo = async () => {\n        const appId = searchParams.get('appId');\n        if (appId) {\n            const appInfo = await getAppInfo(appId);\n            if (appInfo && appInfo.code === 200) {\n                setKey(appInfo.data!.apiKey);\n                setToken(appInfo.data!.apiSecret);\n            }\n        }\n    }\n\n    useEffect(() => {\n        initAppInfo();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const copyText = (e: React.MouseEvent, text: string) => {\n        e.stopPropagation();\n        copy(text);\n        message.success('已复制')\n    }\n\n    const columns: ColumnsType<DataType> = [\n        {\n            title: '文件名',\n            dataIndex: 'filename',\n            width: 50,\n        },\n        {\n            title: 'release',\n            dataIndex: 'release',\n            width: 100,\n        },\n        {\n            title: '文件大小',\n            dataIndex: 'filesize',\n            width: 50,\n        },\n        {\n            title: '上传时间',\n            dataIndex: 'createdAt',\n            width: 100,\n        },\n        {\n            title: '操作',\n            width: 100,\n            render: (_, record) => (\n                <Space size=\"middle\">\n                    <Button type=\"link\" onClick={(e) => downloadSourceMap(e, record.key.toString())}>下载 Sourcemap</Button>\n                </Space>\n            ),\n        },\n    ];\n\n    const downloadSourceMap = async (e: React.MouseEvent, smId: string) => {\n        const result = await getSourcemap(smId);\n        if (result.data) {\n            download(`${result.data.filename}.js.map`, result.data.sourcemap);\n        }\n    }\n\n    const initSourcemapList = async () => {\n        const result = await getSourcemapList({ pageNum, pageSize });\n        if (result.data) {\n            setSourcemapTotal(result.data.total);\n            const data: DataType[] = [];\n            result.data.data.forEach(item => {\n                data.push({\n                    key: item.smId,\n                    release: item.release,\n                    createdAt: item.createdAt,\n                    filename: item.filename,\n                    filesize: item.filesize,\n                })\n            });\n            setSourcemapList(data);\n        }\n    };\n\n    useEffect(() => {\n        initSourcemapList();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        initSourcemapList();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [pageNum, pageSize]);\n\n    const pagination = {\n        showSizeChanger: true,\n        onChange: (page: number, pageSize: number) => {\n            setPageNum(page);\n            setPageSize(pageSize);\n        },\n        defaultCurrent: pageNum,\n        total: sourcemapTotal\n    }\n\n    return (<div>\n        <div style={{ background: '#ffffff', padding: '12px 16px' }}>\n            <Title level={5}>自动上传密钥</Title>\n            <div>\n                <span><span style={{ color: '#86909c' }}>API Key:</span>&nbsp;&nbsp;{key} <CopyOutlined style={{ marginLeft: '8px' }} onClick={(e) => copyText(e, key)} /></span> <span style={{ marginLeft: '16px' }}> <span style={{ color: '#86909c' }}>API Token:</span>&nbsp;&nbsp;{token} <CopyOutlined style={{ marginLeft: '8px' }} onClick={(e) => copyText(e, token)} /></span>\n            </div>\n        </div>\n        <Card title=\"sourcemap列表\" style={{ marginTop: '20px' }}>\n            <Button type=\"primary\" icon={<UploadOutlined />} onClick={e => setShowCreatePage(true)}>\n                上传Sourcemap\n            </Button>\n            <Table style={{ marginTop: '12px' }} pagination={pagination} columns={columns} dataSource={sourcemapList} />\n        </Card>\n        <AddSourcemapPage onSuccess={() => { setShowCreatePage(false); initSourcemapList(); }} open={showCreatePage} onClose={() => setShowCreatePage(false)}></AddSourcemapPage>\n    </div>);\n}\n\nexport default SourceMapManage;","// This icon file is generated automatically.\nvar InboxOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z\" } }] }, \"name\": \"inbox\", \"theme\": \"outlined\" };\nexport default InboxOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport InboxOutlinedSvg from \"@ant-design/icons-svg/es/asn/InboxOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar InboxOutlined = function InboxOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: InboxOutlinedSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  InboxOutlined.displayName = 'InboxOutlined';\n}\nexport default /*#__PURE__*/React.forwardRef(InboxOutlined);","// This icon file is generated automatically.\nvar UploadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"upload\", \"theme\": \"outlined\" };\nexport default UploadOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport UploadOutlinedSvg from \"@ant-design/icons-svg/es/asn/UploadOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar UploadOutlined = function UploadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: UploadOutlinedSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  UploadOutlined.displayName = 'UploadOutlined';\n}\nexport default /*#__PURE__*/React.forwardRef(UploadOutlined);"],"names":["addApp","params","http","post","getAppList","get","deleteApp","id","delete","concat","getAppInfo","appId","getSourcemapList","addSourcemap","getSourcemap","getBreadcrumbList","path","menuList","tempPath","getNodePath","node","push","key","Error","length","i","pop","e","map","item","label","download","filename","content","arraybuffer","TextEncoder","encode","buffer","blob","Blob","type","reader","FileReader","readAsDataURL","onload","event","element","document","createElement","href","target","result","body","appendChild","click","removeChild","props","_Form$useForm","Form","useForm","form","_slicedToArray","_useState","useState","_useState2","fileList","setFileList","_useState3","_useState4","sourcemap","setSourcemap","_useSearchParams","useSearchParams","searchParams","_message$useMessage","message","useMessage","_message$useMessage2","messageApi","contextHolder","onFinish","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","wrap","_context","prev","next","open","abrupt","name","site_type","release","resetFields","success","onSuccess","t0","console","log","stop","_x","apply","arguments","uploadProps","accept","multiple","maxCount","onRemove","file","index","indexOf","newFileList","slice","splice","beforeUpload","readAsBinaryString","this","_toConsumableArray","_jsxs","Drawer","title","placement","width","closable","extra","_jsx","Space","children","CloseOutlined","onClick","onClose","layout","initialValues","Item","rules","required","Input","valuePropName","getValueFromEvent","Array","isArray","noStyle","Dragger","_objectSpread","className","InboxOutlined","Select","showSearch","allowClear","placeholder","optionFilterProp","onChange","value","onSearch","filterOption","input","option","_option$label","toLowerCase","includes","options","Button","htmlType","setKey","token","setToken","_useState5","_useState6","pageNum","setPageNum","_useState7","_useState8","pageSize","setPageSize","_useState9","_useState10","sourcemapTotal","setSourcemapTotal","_useState11","_useState12","sourcemapList","setSourcemapList","_useState13","_useState14","showCreatePage","setShowCreatePage","initAppInfo","appInfo","sent","code","data","apiKey","apiSecret","useEffect","copyText","text","stopPropagation","copy","columns","dataIndex","render","_","record","size","downloadSourceMap","toString","_ref2","_callee2","smId","_context2","_x2","initSourcemapList","_ref3","_callee3","_context3","total","forEach","createdAt","filesize","pagination","showSizeChanger","page","defaultCurrent","style","background","padding","Title","level","color","CopyOutlined","marginLeft","Card","marginTop","icon","UploadOutlined","Table","dataSource","AddSourcemapPage","ref","React","AntdIcon","_extends","InboxOutlinedSvg","UploadOutlinedSvg"],"sourceRoot":""}
{"version":3,"file":"static/js/353.796b4e2f.chunk.js","mappings":"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","sources":["views/app/components/createAppModal.tsx","api/modules/app.ts","views/app/index.tsx"],"sourcesContent":["import { useState, useImperativeHandle, Ref } from \"react\";\nimport { Form, Input, Modal, Radio, Upload, message } from \"antd\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport { createApp } from \"@/api/modules/app\";\n\ninterface Props {\n\tinnerRef: Ref<{ showModal: () => void }>;\n}\n\nconst CreateAppModal = (props: Props) => {\n\tconst [isModalVisible, setIsModalVisible] = useState(false);\n\tconst [form] = Form.useForm();\n\n\tuseImperativeHandle(props.innerRef, () => ({\n\t\tshowModal\n\t}));\n\n\tconst showModal = () => {\n\t\tsetIsModalVisible(true);\n\t};\n\n\tconst handleOk = async () => {\n\t\tconst fieldsValue = await form.validateFields();\n\t\tconst { data } = await createApp({\n\t\t\tname: fieldsValue.name,\n\t\t\ttype: fieldsValue.type\n\t\t});\n\t\tconsole.log(data);\n\t\tsetIsModalVisible(false);\n\t\t//清空form\n\t\tform.resetFields();\n\t\tmessage.success(\"创建成功\");\n\t};\n\n\tconst handleCancel = () => {\n\t\t//清空form\n\t\tform.resetFields();\n\t\tsetIsModalVisible(false);\n\t};\n\n\tconst normFile = (e: any) => {\n\t\tif (Array.isArray(e)) {\n\t\t\treturn e;\n\t\t}\n\t\treturn e?.fileList;\n\t};\n\treturn (\n\t\t<Modal title=\"新建应用\" open={isModalVisible} onOk={handleOk} onCancel={handleCancel} destroyOnClose={true} cancelText=\"取消\" okText=\"确定\">\n\t\t\t<Form\n\t\t\t\tlabelCol={{ span: 4 }}\n\t\t\t\twrapperCol={{ span: 14 }}\n\t\t\t\tlayout=\"horizontal\"\n\t\t\t\tform={form}\n\t\t\t\tinitialValues={{ type: 1 }}\n\t\t\t>\n\t\t\t\t<Form.Item label=\"应用类型\" name=\"type\">\n\t\t\t\t\t<Radio.Group>\n\t\t\t\t\t\t<Radio value={1}>H5/PC/Web项目</Radio>\n\t\t\t\t\t\t<Radio value={2}>小程序</Radio>\n\t\t\t\t\t</Radio.Group>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"应用名称\" name=\"name\" rules={[{ required: true }]}>\n\t\t\t\t\t<Input />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"上传图标\" valuePropName=\"fileList\" getValueFromEvent={normFile}>\n\t\t\t\t\t<Upload action=\"/upload.do\" listType=\"picture-card\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<PlusOutlined />\n\t\t\t\t\t\t\t<div style={{ marginTop: 8 }}>Upload</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Upload>\n\t\t\t\t</Form.Item>\n\n\t\t\t</Form>\n\t\t</Modal>\n\t);\n};\nexport default CreateAppModal;","import http from \"../index\"\nimport { App } from \"../interface/app\";\n\n// * app应用接口\nexport const createApp = (params: App.CreateAppForm) => {\n    return http.post<App.ResApp>('app', params);\n};","import Layout, { Content, Footer } from \"antd/es/layout/layout\";\nimport { Button, Typography } from 'antd';\nimport { useRef } from \"react\";\nimport \"./app.less\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport CreateAppModal from \"./components/createAppModal\";\n\nconst { Title } = Typography;\n\ninterface ModalProps {\n    showModal: () => void;\n}\n\nconst View = () => {\n    const createAppRef = useRef<ModalProps>(null);\n\n    return <Layout>\n        <Content style={{ margin: '24px 32px' }}>\n            <Title level={4}>应用接入</Title>\n            <div className=\"app-header\">\n                <Button type=\"primary\" icon={<PlusOutlined />} size=\"middle\" onClick={() => createAppRef.current!.showModal()}>\n                    创建应用\n                </Button>\n            </div>\n            <div className=\"app-list\">\n                \n            </div>\n        </Content>\n        <Footer style={{ textAlign: 'center' }}>React + Ant Design</Footer>\n        <CreateAppModal innerRef={createAppRef}></CreateAppModal>\n    </Layout>;\n}\n\nexport default View;"],"names":["props","_useState","useState","_useState2","_slicedToArray","isModalVisible","setIsModalVisible","_Form$useForm","Form","useForm","form","useImperativeHandle","innerRef","showModal","handleOk","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fieldsValue","_yield$createApp","data","wrap","_context","prev","next","validateFields","sent","params","name","type","http","post","console","log","resetFields","message","success","stop","apply","arguments","_jsx","Modal","title","open","onOk","onCancel","destroyOnClose","cancelText","okText","children","_jsxs","labelCol","span","wrapperCol","layout","initialValues","Item","label","Radio","value","rules","required","Input","valuePropName","getValueFromEvent","e","Array","isArray","fileList","Upload","action","listType","PlusOutlined","style","marginTop","Title","Typography","createAppRef","useRef","Layout","Content","margin","level","className","Button","icon","size","onClick","current","Footer","textAlign","CreateAppModal"],"sourceRoot":""}
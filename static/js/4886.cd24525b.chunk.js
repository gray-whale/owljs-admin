"use strict";(self.webpackChunkmonitor_admin=self.webpackChunkmonitor_admin||[]).push([[4886],{4886:(e,s,t)=>{t.r(s),t.d(s,{default:()=>H});var n=t(8127),a=t(5636),i=t(5722),l=t(2641),c=t(6106),r=t(914),o=t(6473),d=t(8531),p=t(2279),x=t(6834),h=t(4664),m=t(2107),j=t(2791),u=t(1752),y=t(2622),Z=t(9286),f=t(2414),g=t(3414),C=t(3552);const b=t.p+"static/media/H5.99da6d33f21e67d91cbbeabfecad6365.svg";const v=t.p+"static/media/mp.f80329825a8bc57599fa4d9805213d04.svg";var w=t(7689),k=t(6998),P=t.n(k),S=t(3070),I=t(7828),T=t(1773),z=t(4424),E=t(9389),A=t(732),D=t(3329);const F=e=>{const[s]=S.Z.useForm();return(0,D.jsx)(I.Z,{title:"\u65b0\u5efa\u5e94\u7528",placement:"right",width:500,closable:!1,open:e.open,extra:(0,D.jsx)(T.Z,{children:(0,D.jsx)(A.Z,{onClick:e.onClose})}),children:(0,D.jsxs)(S.Z,{labelCol:{span:6},wrapperCol:{span:18},layout:"horizontal",form:s,onFinish:async t=>{try{await(0,C.L5)({name:t.name,type:t.type}),s.resetFields(),i.ZP.success("\u521b\u5efa\u6210\u529f"),e.onSuccess()}catch(n){console.log(n)}},initialValues:{type:1},children:[(0,D.jsx)(S.Z.Item,{label:"\u5e94\u7528\u7c7b\u578b",name:"type",children:(0,D.jsxs)(z.ZP.Group,{children:[(0,D.jsx)(z.ZP,{value:1,children:"H5/PC/Web\u9879\u76ee"}),(0,D.jsx)(z.ZP,{value:2,children:"\u5c0f\u7a0b\u5e8f"})]})}),(0,D.jsx)(S.Z.Item,{label:"\u5e94\u7528\u540d\u79f0",name:"name",rules:[{required:!0}],children:(0,D.jsx)(E.Z,{})}),(0,D.jsx)(S.Z.Item,{wrapperCol:{offset:6,span:18},children:(0,D.jsx)(l.ZP,{type:"primary",htmlType:"submit",children:"\u786e\u5b9a"})})]})})},{Title:L,Text:N}=a.default,H=()=>{const e=(0,w.s0)(),[s,t]=(0,j.useState)(1),[a,k]=(0,j.useState)(10),[S,I]=(0,j.useState)(0),[T,z]=(0,j.useState)([]),[E,A]=(0,j.useState)(!1),[H,_]=(0,j.useState)(!1),[q,G]=(0,j.useState)(""),O=async()=>{const e=await(0,C.yk)({pageNum:s,pageSize:a});e.data&&(I(e.data.total),z(e.data.data))};(0,j.useEffect)((()=>{O()}),[]),(0,j.useEffect)((()=>{O()}),[s,a]);return(0,D.jsxs)(n.ZP,{children:[(0,D.jsxs)("div",{style:{margin:"0 32px",padding:"16px",height:"100%"},children:[(0,D.jsx)(L,{level:4,children:"\u5e94\u7528\u63a5\u5165"}),(0,D.jsx)("div",{className:"app-header",children:(0,D.jsx)(l.ZP,{type:"primary",icon:(0,D.jsx)(Z.Z,{}),size:"middle",onClick:e=>A(!0),children:"\u521b\u5efa\u5e94\u7528"})}),T.length>0?(0,D.jsxs)("div",{className:"app-list",children:[(0,D.jsx)(c.Z,{gutter:[16,16],children:T.map(((s,t)=>{return(0,D.jsx)(r.Z,{span:8,children:(0,D.jsxs)(o.Z,{hoverable:!0,onClick:t=>(s=>{let t="/home/miniapp";"1"===s.type&&(t="/home/web"),e("".concat(t,"?appId=").concat(s.appId))})(s),children:[(0,D.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,D.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,D.jsx)(d.Z,{width:20,height:20,src:"1"===s.type?b:v}),(0,D.jsx)(L,{style:{marginLeft:"8px"},level:5,children:s.name})]}),(0,D.jsx)(p.Z,{menu:{items:(n=s.appId,[{key:"1",label:"\u7f16\u8f91",icon:(0,D.jsx)(u.Z,{}),onClick:e=>{let{domEvent:s}=e;s.stopPropagation()}},{key:"2",label:"\u5220\u9664",icon:(0,D.jsx)(y.Z,{}),onClick:async e=>{let{domEvent:s}=e;s.stopPropagation(),G(n),_(!0)}}])},placement:"bottomRight",arrow:{pointAtCenter:!0},children:(0,D.jsx)(f.Z,{})})]}),(0,D.jsx)("div",{style:{marginTop:"16px"},children:(0,D.jsxs)(N,{children:["AppID\uff1a ",(0,D.jsx)(N,{type:"secondary",children:s.aid}),(0,D.jsx)(g.Z,{style:{marginLeft:"8px"},onClick:e=>((e,s)=>{e.stopPropagation(),P()(s),i.ZP.success("\u5df2\u590d\u5236")})(e,s.aid)})]})}),(0,D.jsx)("div",{style:{marginTop:"8px",display:"flex",justifyContent:"space-between"},children:(0,D.jsxs)("span",{children:["\u521b\u5efa\u65f6\u95f4:",s.createdAt]})})]})},t.toString());var n}))}),(0,D.jsx)(x.Z,{style:{marginTop:"20px"},showSizeChanger:!0,onChange:(e,s)=>{t(e),k(s)},defaultCurrent:s,total:S})]}):(0,D.jsx)(h.Z,{description:"\u6682\u65e0\u5e94\u7528"})]}),(0,D.jsx)(F,{onSuccess:()=>{A(!1),O()},open:E,onClose:()=>A(!1)}),(0,D.jsx)(m.Z,{title:"\u63d0\u793a!",open:H,onOk:async()=>{_(!1);200===(await(0,C.P2)(q)).code&&(i.ZP.success("\u5220\u9664\u6210\u529f"),O())},onCancel:()=>{_(!1)},children:"\u786e\u8ba4\u5220\u9664\uff1f"})]})}}}]);
//# sourceMappingURL=4886.cd24525b.chunk.js.map
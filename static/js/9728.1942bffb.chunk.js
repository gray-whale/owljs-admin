"use strict";(self.webpackChunkmonitor_admin=self.webpackChunkmonitor_admin||[]).push([[9728],{1583:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(9286),r=n(4217),i=n(2339),s=n(3218),d=n(3403),l=n(7309),c=n(7892),o=n.n(c),u=n(3329),h=r.Z.RangePicker,p=function(e){e.data;var t=[{label:"\u6700\u8fd130\u5206\u949f",value:[o()().add(-30,"minute"),o()()]},{label:"\u6700\u8fd11\u5c0f\u65f6",value:[o()().add(-1,"h"),o()()]},{label:"\u6700\u8fd13\u5c0f\u65f6",value:[o()().add(-7,"h"),o()()]},{label:"\u6700\u8fd11\u5929",value:[o()().add(-1,"d"),o()()]},{label:"\u6700\u8fd13\u5929",value:[o()().add(-3,"d"),o()()]},{label:"\u6700\u8fd17\u5929",value:[o()().add(-7,"d"),o()()]},{label:"\u6700\u8fd11\u4e2a\u6708",value:[o()().add(-1,"M"),o()()]}],n=(0,u.jsx)("div",{style:{maxWidth:"400px"},children:["pid","\u6d4f\u89c8\u5668","\u6d4f\u89c8\u5668\u7248\u672c","\u7cfb\u7edf","\u7cfb\u7edf\u7248\u672c","\u56fd\u5bb6/\u5730\u533a","\u7701\u4efd","\u57ce\u5e02","IP","\u54c1\u724c","\u673a\u578b","\u9875\u9762url","session_id","view_id","env","release","use_agent","\u8bf7\u6c42\u53c2\u6570","\u7f51\u7edc\u7c7b\u578b","use_id","device_id"].map((function(e){return(0,u.jsx)(i.Z,{color:"blue",className:"filter-header-tag",children:e},e)}))});return(0,u.jsxs)(s.Z,{children:[(0,u.jsx)(h,{showTime:!0,presets:t,onChange:function(e,t){e?(console.log("From: ",e[0],", to: ",e[1]),console.log("From: ",t[0],", to: ",t[1])):console.log("Clear")},defaultValue:[o()().add(-1,"d"),o()()]}),(0,u.jsx)(d.Z,{placement:"bottomLeft",trigger:"click",content:n,arrow:!1,children:(0,u.jsx)(l.ZP,{icon:(0,u.jsx)(a.Z,{}),style:{marginLeft:"8px"},children:"\u7b5b\u9009\u6761\u4ef6"})})]})}},9728:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(4165),r=n(5861),i=n(9439),s=n(1583),d=n(3218),l=n(7828),c=n(1046),o=n(7838),u=n(7128),h=n(4352),p=n(2791),x=n(2584),f=function(e){return x.Z.get("web/jserror/".concat(e))},Z=n(7027),m=n(3920),v=n(1087),g=n(3329),j=function(e){var t=(0,p.useState)(1),n=(0,i.Z)(t,2),s=n[0],d=n[1],l=(0,p.useState)(10),c=(0,i.Z)(l,2),o=c[0],u=c[1],h=(0,p.useState)(0),f=(0,i.Z)(h,2),j=f[0],w=f[1],k=(0,p.useState)([]),y=(0,i.Z)(k,2),b=y[0],S=y[1],C=(0,p.useState)([]),I=(0,i.Z)(C,2),_=I[0],z=I[1],A=(0,v.lr)(),E=(0,i.Z)(A,1)[0],P=Z.ZP.useMessage(),T=(0,i.Z)(P,2),N=T[0],B=T[1],F=[{title:"\u9519\u8bef\u540d",dataIndex:"name",width:50},{title:"\u9519\u8bef\u4fe1\u606f",dataIndex:"msg",width:100},{title:"\u9519\u8bef\u5185\u5bb9",dataIndex:"stack",width:200,render:function(t,n){return(0,g.jsxs)("div",{onClick:function(t){return e.onClick(n.key)},children:[(0,g.jsx)("span",{style:{display:"inline",color:"#3370ff",fontSize:"16px"},children:n.name}),"\xa0\xa0\xa0",(0,g.jsx)("span",{style:{width:"200px",wordBreak:"break-all"},children:t})]})}},{title:"\u4e0a\u62a5\u65f6\u95f4",dataIndex:"createdAt",width:100}],K={selectedRowKeys:_,onChange:function(e){z(e)}},L=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=E.get("appId")){e.next=4;break}return N.open({type:"error",content:"appId\u4e0d\u80fd\u4e3a\u7a7a!"}),e.abrupt("return");case 4:return e.next=6,a={pageNum:s,pageSize:o,appId:t},x.Z.get("web/jserror",a);case 6:(n=e.sent).data&&(w(n.data.total),r=[],n.data.data.forEach((function(e){r.push({key:e.errorId,name:e.name,msg:e.msg,stack:e.stack,createdAt:e.createdAt})})),S(r));case 8:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}();(0,p.useEffect)((function(){L()}),[]),(0,p.useEffect)((function(){L()}),[s,o]);var M={showSizeChanger:!0,onChange:function(e,t){d(e),u(t)},defaultCurrent:s,total:j};return(0,g.jsxs)("div",{children:[B,(0,g.jsx)(m.Z,{style:{marginTop:"12px"},rowSelection:K,pagination:M,columns:F,dataSource:b})]})},w=n(732),k=n(50),y=n(4561),b=n(2499),S=function(){var e=(0,p.useState)(),t=(0,i.Z)(e,2),n=t[0],Z=t[1],v=(0,p.useState)(1),S=(0,i.Z)(v,2),C=S[0],I=S[1],_=(0,p.useState)(10),z=(0,i.Z)(_,2),A=z[0],E=z[1],P=(0,p.useState)(0),T=(0,i.Z)(P,2),N=T[0],B=T[1],F=(0,p.useState)(!1),K=(0,i.Z)(F,2),L=K[0],M=K[1],R=(0,p.useState)([]),J=(0,i.Z)(R,2),V=J[0],W=J[1],q=[{key:"1",label:"\u5806\u6808\u660e\u7ec6",children:(0,g.jsx)("p",{children:n&&n.stack})}],D=[{title:"\u7c7b\u578b",dataIndex:"type",width:50},{title:"\u7b56\u7565",dataIndex:"category",width:100},{title:"\u4fe1\u606f",dataIndex:"message",width:200,render:function(e,t){return(0,g.jsx)("div",{children:(0,g.jsx)("span",{style:{width:"200px",wordBreak:"break-all"},children:e})})}},{title:"\u9644\u52a0\u4fe1\u606f",dataIndex:"data",width:100},{title:"\u4e0a\u62a5\u65f6\u95f4",dataIndex:"timestamp",width:100}],G=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a={pageNum:C,pageSize:A,errorId:t},x.Z.get("web/breadcrumb",a);case 2:(n=e.sent).data&&(B(n.data.total),r=[],n.data.data.forEach((function(e){r.push({type:e.type,category:e.category,message:e.message,data:e.data,timestamp:e.timestamp})})),W(r));case 4:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){M(!1)},O=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:(n=e.sent).data&&Z(n.data),G(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q={showSizeChanger:!0,onChange:function(e,t){I(e),E(t)},defaultCurrent:C,total:N};return(0,g.jsxs)("div",{children:[(0,g.jsx)(s.Z,{}),(0,g.jsx)(d.Z,{title:"\u9519\u8bef\u5217\u8868",style:{marginTop:"16px"},children:(0,g.jsx)(j,{onClick:function(e){O(e),M(!0)}})}),(0,g.jsx)(l.Z,{title:"\u9519\u8bef\u8be6\u60c5",placement:"right",closable:!1,width:"80%",onClose:H,open:L,extra:(0,g.jsx)(c.Z,{children:(0,g.jsx)(w.Z,{onClick:H})}),children:(0,g.jsxs)("div",{children:[(0,g.jsxs)(o.Z,{children:[(0,g.jsx)(b.Z,{level:4,children:null===n||void 0===n?void 0:n.name}),(0,g.jsx)(y.Z,{children:null===n||void 0===n?void 0:n.msg}),(0,g.jsxs)(y.Z,{children:[(0,g.jsx)(k.Z,{}),"\xa0\xa0",null===n||void 0===n?void 0:n.createdAt]})]}),(0,g.jsx)(u.Z,{}),(0,g.jsxs)("div",{style:{width:"60%"},children:[(0,g.jsx)(m.Z,{style:{marginTop:"12px"},size:"small",pagination:Q,columns:D,dataSource:V}),(0,g.jsxs)(o.Z,{children:[(0,g.jsx)(b.Z,{level:5,children:"Js\u9519\u8bef\u5806\u6808"}),(0,g.jsx)(y.Z,{children:null===n||void 0===n?void 0:n.msg})]}),(0,g.jsx)(h.Z,{bordered:!1,items:q,defaultActiveKey:["1"]})]})]})})]})}}}]);
//# sourceMappingURL=9728.1942bffb.chunk.js.map
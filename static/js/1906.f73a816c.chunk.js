"use strict";(self.webpackChunkmonitor_admin=self.webpackChunkmonitor_admin||[]).push([[1906],{1906:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var n=a(4689);var s=a(5722),o=a(6473),i=a(2954),r=a(2791),d=a(1087),c=a(3329);const u=()=>{const[e,t]=(0,r.useState)(1),[a,u]=(0,r.useState)(10),[p,l]=(0,r.useState)(0),[m,g]=(0,r.useState)([]),[h,f]=(0,r.useState)([]),[w]=(0,d.lr)(),[S,I]=s.ZP.useMessage(),v={selectedRowKeys:h,onChange:e=>{f(e)}},x=async()=>{const t=w.get("appId");if(!t)return void S.open({type:"error",content:"appId\u4e0d\u80fd\u4e3a\u7a7a!"});const s=await(o={pageNum:e,pageSize:a,appId:t},n.Z.get("mp/event",o));var o;if(s.data){l(s.data.total);const e=[];s.data.data.forEach((t=>{e.push({key:t.eventId,name:t.name,metrics:t.metrics,categories:t.categories})})),g(e)}};(0,r.useEffect)((()=>{x()}),[]),(0,r.useEffect)((()=>{x()}),[e,a]);const C={showSizeChanger:!0,onChange:(e,a)=>{t(e),u(a)},defaultCurrent:e,total:p};return(0,c.jsxs)(o.Z,{title:"\u4e8b\u4ef6\u5217\u8868",children:[I,(0,c.jsx)(i.Z,{style:{marginTop:"12px"},rowSelection:v,pagination:C,columns:[{title:"\u4e8b\u4ef6\u540d",dataIndex:"name",width:100},{title:"\u81ea\u5b9a\u4e49\u6570\u503c",dataIndex:"metrics",width:200},{title:"\u4e8b\u4ef6\u672c\u8eab\u7684\u7ef4\u5ea6",dataIndex:"categories",width:200}],dataSource:m})]})}}}]);
//# sourceMappingURL=1906.f73a816c.chunk.js.map
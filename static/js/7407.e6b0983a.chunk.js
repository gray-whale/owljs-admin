"use strict";(self.webpackChunkmonitor_admin=self.webpackChunkmonitor_admin||[]).push([[7407],{1583:function(e,n,t){t.d(n,{Z:function(){return x}});var a=t(9286),r=t(4217),i=t(2339),s=t(3218),l=t(3403),d=t(7309),c=t(7892),o=t.n(c),u=t(3329),h=r.Z.RangePicker,x=function(e){e.data;var n=[{label:"\u6700\u8fd130\u5206\u949f",value:[o()().add(-30,"minute"),o()()]},{label:"\u6700\u8fd11\u5c0f\u65f6",value:[o()().add(-1,"h"),o()()]},{label:"\u6700\u8fd13\u5c0f\u65f6",value:[o()().add(-7,"h"),o()()]},{label:"\u6700\u8fd11\u5929",value:[o()().add(-1,"d"),o()()]},{label:"\u6700\u8fd13\u5929",value:[o()().add(-3,"d"),o()()]},{label:"\u6700\u8fd17\u5929",value:[o()().add(-7,"d"),o()()]},{label:"\u6700\u8fd11\u4e2a\u6708",value:[o()().add(-1,"M"),o()()]}],t=(0,u.jsx)("div",{style:{maxWidth:"400px"},children:["pid","\u6d4f\u89c8\u5668","\u6d4f\u89c8\u5668\u7248\u672c","\u7cfb\u7edf","\u7cfb\u7edf\u7248\u672c","\u56fd\u5bb6/\u5730\u533a","\u7701\u4efd","\u57ce\u5e02","IP","\u54c1\u724c","\u673a\u578b","\u9875\u9762url","session_id","view_id","env","release","use_agent","\u8bf7\u6c42\u53c2\u6570","\u7f51\u7edc\u7c7b\u578b","use_id","device_id"].map((function(e){return(0,u.jsx)(i.Z,{color:"blue",className:"filter-header-tag",children:e},e)}))});return(0,u.jsxs)(s.Z,{children:[(0,u.jsx)(h,{showTime:!0,presets:n,onChange:function(e,n){e?(console.log("From: ",e[0],", to: ",e[1]),console.log("From: ",n[0],", to: ",n[1])):console.log("Clear")},defaultValue:[o()().add(-1,"d"),o()()]}),(0,u.jsx)(l.Z,{placement:"bottomLeft",trigger:"click",content:t,arrow:!1,children:(0,u.jsx)(d.ZP,{icon:(0,u.jsx)(a.Z,{}),style:{marginLeft:"8px"},children:"\u7b5b\u9009\u6761\u4ef6"})})]})}},7407:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var a=t(4165),r=t(5861),i=t(9439),s=t(1583),l=t(3218),d=t(7828),c=t(1046),o=t(7838),u=t(7128),h=t(4352),x=t(2791),f=t(2584),p=function(e){return f.Z.get("web/jserror/".concat(e))},Z=t(7027),v=t(3920),j=t(1087),m=t(3329),g=function(e){var n=(0,x.useState)(1),t=(0,i.Z)(n,2),s=t[0],l=t[1],d=(0,x.useState)(10),c=(0,i.Z)(d,2),o=c[0],u=c[1],h=(0,x.useState)(0),p=(0,i.Z)(h,2),g=p[0],k=p[1],w=(0,x.useState)([]),b=(0,i.Z)(w,2),y=b[0],C=b[1],S=(0,x.useState)([]),I=(0,i.Z)(S,2),_=I[0],A=I[1],P=(0,j.lr)(),z=(0,i.Z)(P,1)[0],E=Z.ZP.useMessage(),T=(0,i.Z)(E,2),F=T[0],K=T[1],L=[{title:"\u9519\u8bef\u540d",dataIndex:"name",width:50},{title:"\u9519\u8bef\u4fe1\u606f",dataIndex:"msg",width:100},{title:"\u9519\u8bef\u5185\u5bb9",dataIndex:"stack",width:200,render:function(n,t){return(0,m.jsxs)("div",{onClick:function(n){return e.onClick(t.key)},children:[(0,m.jsx)("span",{style:{display:"inline",color:"#3370ff",fontSize:"16px"},children:t.name}),"\xa0\xa0\xa0",(0,m.jsx)("span",{style:{width:"200px",wordBreak:"break-all"},children:n})]})}},{title:"\u4e0a\u62a5\u65f6\u95f4",dataIndex:"createdAt",width:100}],M={selectedRowKeys:_,onChange:function(e){A(e)}},N=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var n,t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=z.get("appId")){e.next=4;break}return F.open({type:"error",content:"appId\u4e0d\u80fd\u4e3a\u7a7a!"}),e.abrupt("return");case 4:return e.next=6,a={pageNum:s,pageSize:o,appId:n},f.Z.get("web/jserror",a);case 6:(t=e.sent).data&&(k(t.data.total),r=[],t.data.data.forEach((function(e){r.push({key:e.errorId,name:e.name,msg:e.msg,stack:e.stack,createdAt:e.createdAt})})),C(r));case 8:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}();(0,x.useEffect)((function(){N()}),[]),(0,x.useEffect)((function(){N()}),[s,o]);var R={showSizeChanger:!0,onChange:function(e,n){l(e),u(n)},defaultCurrent:s,total:g};return(0,m.jsxs)("div",{children:[K,(0,m.jsx)(v.Z,{style:{marginTop:"12px"},rowSelection:M,pagination:R,columns:L,dataSource:y})]})},k=t(732),w=t(50),b=t(4561),y=t(2499),C=function(){var e=(0,x.useState)(),n=(0,i.Z)(e,2),t=n[0],f=n[1],Z=(0,x.useState)(!1),v=(0,i.Z)(Z,2),j=v[0],C=v[1],S=[{key:"1",label:"\u5806\u6808\u660e\u7ec6",children:(0,m.jsx)("p",{children:t&&t.stack})}],I=function(){C(!1)},_=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(n);case 2:(t=e.sent).data&&f(t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{children:[(0,m.jsx)(s.Z,{}),(0,m.jsx)(l.Z,{title:"\u9519\u8bef\u5217\u8868",style:{marginTop:"16px"},children:(0,m.jsx)(g,{onClick:function(e){_(e),C(!0)}})}),(0,m.jsx)(d.Z,{title:"\u9519\u8bef\u8be6\u60c5",placement:"right",closable:!1,width:"80%",onClose:I,open:j,extra:(0,m.jsx)(c.Z,{children:(0,m.jsx)(k.Z,{onClick:I})}),children:(0,m.jsxs)("div",{children:[(0,m.jsxs)(o.Z,{children:[(0,m.jsx)(y.Z,{level:4,children:null===t||void 0===t?void 0:t.name}),(0,m.jsx)(b.Z,{children:null===t||void 0===t?void 0:t.msg}),(0,m.jsxs)(b.Z,{children:[(0,m.jsx)(w.Z,{}),"\xa0\xa0",null===t||void 0===t?void 0:t.createdAt]})]}),(0,m.jsx)(u.Z,{}),(0,m.jsxs)(o.Z,{children:[(0,m.jsx)(y.Z,{level:5,children:"Js\u9519\u8bef\u5806\u6808"}),(0,m.jsx)(b.Z,{children:null===t||void 0===t?void 0:t.msg})]}),(0,m.jsx)(h.Z,{bordered:!1,items:S,defaultActiveKey:["1"]})]})})]})}}}]);
//# sourceMappingURL=7407.e6b0983a.chunk.js.map